import { u as e, M as t, R as n } from "./index-D6M7XaCF.js";
import { j as a, r, R as s } from "./index-BVS4T5_D.js";
import {
  I as o,
  e as i,
  H as l,
  N as c,
  G as d,
  E as u,
  s as m,
  Q as h,
  S as f,
  U as g,
  V as p,
  B as x,
  o as v,
  a4 as b,
  a6 as y,
  y as w,
  T as j,
  $ as C,
  q as M,
  a7 as N,
  X as k,
  C as S,
  a5 as E,
} from "./Main-Baot3sP1.js";
import { A as D } from "./mcpServersStore-BoqleVOc.js";
import {
  a6 as R,
  ah as A,
  ai as T,
  at as L,
  u as O,
  ab as I,
  ap as _,
  am as z,
  af as P,
  ag as H,
  aq as B,
  au as U,
  T as F,
  a5 as V,
  a7 as Z,
  a9 as W,
  aa as Y,
  al as K,
  a8 as X,
} from "./ModelSelector-BiIwkTdr.js";
import {
  b as $,
  h as q,
  a as G,
  g as J,
  S as Q,
  s as ee,
  u as te,
  U as ne,
  D as ae,
} from "./SavedPromptsService-Ca57zNuQ.js";
import { n as re, a as se, T as oe, u as ie } from "./TasksTab-DhtQv-8v.js";
const le = (e) =>
    a.jsx(o, {
      ...e,
      children: a.jsx("path", {
        d: "M8.14648 4.64648C8.34176 4.45136 8.6583 4.45127 8.85352 4.64648C9.04868 4.8417 9.04862 5.15826 8.85352 5.35352L4.70703 9.50001H16.5C16.7761 9.50001 17 9.72387 17 10C16.9999 10.2761 16.7761 10.5 16.5 10.5H4.70703L8.85352 14.6465C9.04863 14.8418 9.04873 15.1583 8.85352 15.3535C8.6583 15.5487 8.34174 15.5486 8.14648 15.3535L3.14648 10.3535C3.05274 10.2598 3.00003 10.1326 3 10C3 9.90061 3.02967 9.80418 3.08398 9.72267L3.14648 9.64649L8.14648 4.64648Z",
      }),
    }),
  ce = (e) =>
    a.jsx(o, {
      ...e,
      children: a.jsx("path", {
        d: "M13.1465 6.14635C13.3417 5.95116 13.6582 5.9513 13.8535 6.14635C14.0488 6.34161 14.0488 6.65812 13.8535 6.85338L10.707 9.99988L13.8535 13.1464C14.0488 13.3416 14.0488 13.6581 13.8535 13.8534C13.6826 14.0243 13.4187 14.0462 13.2246 13.9179L13.1465 13.8534L9.99995 10.7069L6.85342 13.8534C6.65815 14.0486 6.34163 14.0486 6.14638 13.8534C5.95134 13.6581 5.95125 13.3416 6.14638 13.1464L9.29291 9.99988L6.14638 6.85338L6.08193 6.77526C5.95394 6.5812 5.97559 6.31715 6.14638 6.14635C6.31718 5.97556 6.58124 5.95391 6.7753 6.0819L6.85342 6.14635L9.99995 9.29285L13.1465 6.14635Z",
      }),
    }),
  de = new Map([
    [
      "bold",
      r.createElement(
        r.Fragment,
        null,
        r.createElement("path", {
          d: "M230.14,70.54,185.46,25.85a20,20,0,0,0-28.29,0L33.86,149.17A19.85,19.85,0,0,0,28,163.31V208a20,20,0,0,0,20,20H92.69a19.86,19.86,0,0,0,14.14-5.86L230.14,98.82a20,20,0,0,0,0-28.28ZM91,204H52V165l84-84,39,39ZM192,103,153,64l18.34-18.34,39,39Z",
        }),
      ),
    ],
    [
      "duotone",
      r.createElement(
        r.Fragment,
        null,
        r.createElement("path", {
          d: "M221.66,90.34,192,120,136,64l29.66-29.66a8,8,0,0,1,11.31,0L221.66,79A8,8,0,0,1,221.66,90.34Z",
          opacity: "0.2",
        }),
        r.createElement("path", {
          d: "M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM92.69,208H48V163.31l88-88L180.69,120ZM192,108.68,147.31,64l24-24L216,84.68Z",
        }),
      ),
    ],
    [
      "fill",
      r.createElement(
        r.Fragment,
        null,
        r.createElement("path", {
          d: "M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM192,108.68,147.31,64l24-24L216,84.68Z",
        }),
      ),
    ],
    [
      "light",
      r.createElement(
        r.Fragment,
        null,
        r.createElement("path", {
          d: "M225.9,74.78,181.21,30.09a14,14,0,0,0-19.8,0L38.1,153.41a13.94,13.94,0,0,0-4.1,9.9V208a14,14,0,0,0,14,14H92.69a13.94,13.94,0,0,0,9.9-4.1L225.9,94.58a14,14,0,0,0,0-19.8ZM94.1,209.41a2,2,0,0,1-1.41.59H48a2,2,0,0,1-2-2V163.31a2,2,0,0,1,.59-1.41L136,72.48,183.51,120ZM217.41,86.1,192,111.51,144.49,64,169.9,38.58a2,2,0,0,1,2.83,0l44.68,44.69a2,2,0,0,1,0,2.83Z",
        }),
      ),
    ],
    [
      "regular",
      r.createElement(
        r.Fragment,
        null,
        r.createElement("path", {
          d: "M227.31,73.37,182.63,28.68a16,16,0,0,0-22.63,0L36.69,152A15.86,15.86,0,0,0,32,163.31V208a16,16,0,0,0,16,16H92.69A15.86,15.86,0,0,0,104,219.31L227.31,96a16,16,0,0,0,0-22.63ZM92.69,208H48V163.31l88-88L180.69,120ZM192,108.68,147.31,64l24-24L216,84.68Z",
        }),
      ),
    ],
    [
      "thin",
      r.createElement(
        r.Fragment,
        null,
        r.createElement("path", {
          d: "M224.49,76.2,179.8,31.51a12,12,0,0,0-17,0L133.17,61.17h0L39.52,154.83A11.9,11.9,0,0,0,36,163.31V208a12,12,0,0,0,12,12H92.69a12,12,0,0,0,8.48-3.51L224.48,93.17a12,12,0,0,0,0-17Zm-129,134.63A4,4,0,0,1,92.69,212H48a4,4,0,0,1-4-4V163.31a4,4,0,0,1,1.17-2.83L136,69.65,186.34,120ZM218.83,87.51,192,114.34,141.66,64l26.82-26.83a4,4,0,0,1,5.66,0l44.69,44.68a4,4,0,0,1,0,5.66Z",
        }),
      ),
    ],
  ]),
  ue = new Map([
    [
      "bold",
      r.createElement(
        r.Fragment,
        null,
        r.createElement("path", {
          d: "M100,52H40A20,20,0,0,0,20,72v64a20,20,0,0,0,20,20H96v4a28,28,0,0,1-28,28,12,12,0,0,0,0,24,52.06,52.06,0,0,0,52-52V72A20,20,0,0,0,100,52Zm-4,80H44V76H96ZM216,52H156a20,20,0,0,0-20,20v64a20,20,0,0,0,20,20h56v4a28,28,0,0,1-28,28,12,12,0,0,0,0,24,52.06,52.06,0,0,0,52-52V72A20,20,0,0,0,216,52Zm-4,80H160V76h52Z",
        }),
      ),
    ],
    [
      "duotone",
      r.createElement(
        r.Fragment,
        null,
        r.createElement("path", {
          d: "M108,72v72H40a8,8,0,0,1-8-8V72a8,8,0,0,1,8-8h60A8,8,0,0,1,108,72Zm108-8H156a8,8,0,0,0-8,8v64a8,8,0,0,0,8,8h68V72A8,8,0,0,0,216,64Z",
          opacity: "0.2",
        }),
        r.createElement("path", {
          d: "M100,56H40A16,16,0,0,0,24,72v64a16,16,0,0,0,16,16h60v8a32,32,0,0,1-32,32,8,8,0,0,0,0,16,48.05,48.05,0,0,0,48-48V72A16,16,0,0,0,100,56Zm0,80H40V72h60ZM216,56H156a16,16,0,0,0-16,16v64a16,16,0,0,0,16,16h60v8a32,32,0,0,1-32,32,8,8,0,0,0,0,16,48.05,48.05,0,0,0,48-48V72A16,16,0,0,0,216,56Zm0,80H156V72h60Z",
        }),
      ),
    ],
    [
      "fill",
      r.createElement(
        r.Fragment,
        null,
        r.createElement("path", {
          d: "M116,72v88a48.05,48.05,0,0,1-48,48,8,8,0,0,1,0-16,32,32,0,0,0,32-32v-8H40a16,16,0,0,1-16-16V72A16,16,0,0,1,40,56h60A16,16,0,0,1,116,72ZM216,56H156a16,16,0,0,0-16,16v64a16,16,0,0,0,16,16h60v8a32,32,0,0,1-32,32,8,8,0,0,0,0,16,48.05,48.05,0,0,0,48-48V72A16,16,0,0,0,216,56Z",
        }),
      ),
    ],
    [
      "light",
      r.createElement(
        r.Fragment,
        null,
        r.createElement("path", {
          d: "M100,58H40A14,14,0,0,0,26,72v64a14,14,0,0,0,14,14h62v10a34,34,0,0,1-34,34,6,6,0,0,0,0,12,46.06,46.06,0,0,0,46-46V72A14,14,0,0,0,100,58Zm2,80H40a2,2,0,0,1-2-2V72a2,2,0,0,1,2-2h60a2,2,0,0,1,2,2ZM216,58H156a14,14,0,0,0-14,14v64a14,14,0,0,0,14,14h62v10a34,34,0,0,1-34,34,6,6,0,0,0,0,12,46.06,46.06,0,0,0,46-46V72A14,14,0,0,0,216,58Zm2,80H156a2,2,0,0,1-2-2V72a2,2,0,0,1,2-2h60a2,2,0,0,1,2,2Z",
        }),
      ),
    ],
    [
      "regular",
      r.createElement(
        r.Fragment,
        null,
        r.createElement("path", {
          d: "M100,56H40A16,16,0,0,0,24,72v64a16,16,0,0,0,16,16h60v8a32,32,0,0,1-32,32,8,8,0,0,0,0,16,48.05,48.05,0,0,0,48-48V72A16,16,0,0,0,100,56Zm0,80H40V72h60ZM216,56H156a16,16,0,0,0-16,16v64a16,16,0,0,0,16,16h60v8a32,32,0,0,1-32,32,8,8,0,0,0,0,16,48.05,48.05,0,0,0,48-48V72A16,16,0,0,0,216,56Zm0,80H156V72h60Z",
        }),
      ),
    ],
    [
      "thin",
      r.createElement(
        r.Fragment,
        null,
        r.createElement("path", {
          d: "M100,60H40A12,12,0,0,0,28,72v64a12,12,0,0,0,12,12h64v12a36,36,0,0,1-36,36,4,4,0,0,0,0,8,44.05,44.05,0,0,0,44-44V72A12,12,0,0,0,100,60Zm4,80H40a4,4,0,0,1-4-4V72a4,4,0,0,1,4-4h60a4,4,0,0,1,4,4ZM216,60H156a12,12,0,0,0-12,12v64a12,12,0,0,0,12,12h64v12a36,36,0,0,1-36,36,4,4,0,0,0,0,8,44.05,44.05,0,0,0,44-44V72A12,12,0,0,0,216,60Zm4,80H156a4,4,0,0,1-4-4V72a4,4,0,0,1,4-4h60a4,4,0,0,1,4,4Z",
        }),
      ),
    ],
  ]),
  me = r.forwardRef((e, t) =>
    r.createElement(i, { ref: t, ...e, weights: de }),
  );
me.displayName = "PencilSimpleIcon";
const he = me,
  fe = r.forwardRef((e, t) =>
    r.createElement(i, { ref: t, ...e, weights: ue }),
  );
fe.displayName = "QuotesIcon";
const ge = fe;
const pe =
  "undefined" != typeof window &&
  void 0 !== window.document &&
  void 0 !== window.document.createElement;
function xe(e) {
  const t = Object.prototype.toString.call(e);
  return "[object Window]" === t || "[object global]" === t;
}
function ve(e) {
  return "nodeType" in e;
}
function be(e) {
  var t, n;
  return e
    ? xe(e)
      ? e
      : ve(e) &&
          null != (t = null == (n = e.ownerDocument) ? void 0 : n.defaultView)
        ? t
        : window
    : window;
}
function ye(e) {
  const { Document: t } = be(e);
  return e instanceof t;
}
function we(e) {
  return !xe(e) && e instanceof be(e).HTMLElement;
}
function je(e) {
  return e instanceof be(e).SVGElement;
}
function Ce(e) {
  return e
    ? xe(e)
      ? e.document
      : ve(e)
        ? ye(e)
          ? e
          : we(e) || je(e)
            ? e.ownerDocument
            : document
        : document
    : document;
}
const Me = pe ? r.useLayoutEffect : r.useEffect;
function Ne(e) {
  const t = r.useRef(e);
  return (
    Me(() => {
      t.current = e;
    }),
    r.useCallback(function () {
      for (var e = arguments.length, n = new Array(e), a = 0; a < e; a++)
        n[a] = arguments[a];
      return null == t.current ? void 0 : t.current(...n);
    }, [])
  );
}
function ke(e, t) {
  void 0 === t && (t = [e]);
  const n = r.useRef(e);
  return (
    Me(() => {
      n.current !== e && (n.current = e);
    }, t),
    n
  );
}
function Se(e, t) {
  const n = r.useRef();
  return r.useMemo(() => {
    const t = e(n.current);
    return ((n.current = t), t);
  }, [...t]);
}
function Ee(e) {
  const t = Ne(e),
    n = r.useRef(null),
    a = r.useCallback((e) => {
      (e !== n.current && (null == t || t(e, n.current)), (n.current = e));
    }, []);
  return [n, a];
}
function De(e) {
  const t = r.useRef();
  return (
    r.useEffect(() => {
      t.current = e;
    }, [e]),
    t.current
  );
}
let Re = {};
function Ae(e, t) {
  return r.useMemo(() => {
    if (t) return t;
    const n = null == Re[e] ? 0 : Re[e] + 1;
    return ((Re[e] = n), e + "-" + n);
  }, [e, t]);
}
function Te(e) {
  return function (t) {
    for (
      var n = arguments.length, a = new Array(n > 1 ? n - 1 : 0), r = 1;
      r < n;
      r++
    )
      a[r - 1] = arguments[r];
    return a.reduce(
      (t, n) => {
        const a = Object.entries(n);
        for (const [r, s] of a) {
          const n = t[r];
          null != n && (t[r] = n + e * s);
        }
        return t;
      },
      { ...t },
    );
  };
}
const Le = Te(1),
  Oe = Te(-1);
function Ie(e) {
  if (!e) return !1;
  const { KeyboardEvent: t } = be(e.target);
  return t && e instanceof t;
}
function _e(e) {
  if (
    (function (e) {
      if (!e) return !1;
      const { TouchEvent: t } = be(e.target);
      return t && e instanceof t;
    })(e)
  ) {
    if (e.touches && e.touches.length) {
      const { clientX: t, clientY: n } = e.touches[0];
      return { x: t, y: n };
    }
    if (e.changedTouches && e.changedTouches.length) {
      const { clientX: t, clientY: n } = e.changedTouches[0];
      return { x: t, y: n };
    }
  }
  return (function (e) {
    return "clientX" in e && "clientY" in e;
  })(e)
    ? { x: e.clientX, y: e.clientY }
    : null;
}
const ze = Object.freeze({
    Translate: {
      toString(e) {
        if (!e) return;
        const { x: t, y: n } = e;
        return (
          "translate3d(" +
          (t ? Math.round(t) : 0) +
          "px, " +
          (n ? Math.round(n) : 0) +
          "px, 0)"
        );
      },
    },
    Scale: {
      toString(e) {
        if (!e) return;
        const { scaleX: t, scaleY: n } = e;
        return "scaleX(" + t + ") scaleY(" + n + ")";
      },
    },
    Transform: {
      toString(e) {
        if (e)
          return [ze.Translate.toString(e), ze.Scale.toString(e)].join(" ");
      },
    },
    Transition: {
      toString(e) {
        let { property: t, duration: n, easing: a } = e;
        return t + " " + n + "ms " + a;
      },
    },
  }),
  Pe =
    "a,frame,iframe,input:not([type=hidden]):not(:disabled),select:not(:disabled),textarea:not(:disabled),button:not(:disabled),*[tabindex]";
function He(e) {
  return e.matches(Pe) ? e : e.querySelector(Pe);
}
const Be = { display: "none" };
function Ue(e) {
  let { id: t, value: n } = e;
  return s.createElement("div", { id: t, style: Be }, n);
}
function Fe(e) {
  let { id: t, announcement: n, ariaLiveType: a = "assertive" } = e;
  return s.createElement(
    "div",
    {
      id: t,
      style: {
        position: "fixed",
        top: 0,
        left: 0,
        width: 1,
        height: 1,
        margin: -1,
        border: 0,
        padding: 0,
        overflow: "hidden",
        clip: "rect(0 0 0 0)",
        clipPath: "inset(100%)",
        whiteSpace: "nowrap",
      },
      role: "status",
      "aria-live": a,
      "aria-atomic": !0,
    },
    n,
  );
}
const Ve = r.createContext(null);
const Ze = {
    draggable:
      "\n    To pick up a draggable item, press the space bar.\n    While dragging, use the arrow keys to move the item.\n    Press space again to drop the item in its new position, or press escape to cancel.\n  ",
  },
  We = {
    onDragStart(e) {
      let { active: t } = e;
      return "Picked up draggable item " + t.id + ".";
    },
    onDragOver(e) {
      let { active: t, over: n } = e;
      return n
        ? "Draggable item " +
            t.id +
            " was moved over droppable area " +
            n.id +
            "."
        : "Draggable item " + t.id + " is no longer over a droppable area.";
    },
    onDragEnd(e) {
      let { active: t, over: n } = e;
      return n
        ? "Draggable item " + t.id + " was dropped over droppable area " + n.id
        : "Draggable item " + t.id + " was dropped.";
    },
    onDragCancel(e) {
      let { active: t } = e;
      return "Dragging was cancelled. Draggable item " + t.id + " was dropped.";
    },
  };
function Ye(e) {
  let {
    announcements: t = We,
    container: n,
    hiddenTextDescribedById: a,
    screenReaderInstructions: o = Ze,
  } = e;
  const { announce: i, announcement: c } = (function () {
      const [e, t] = r.useState("");
      return {
        announce: r.useCallback((e) => {
          null != e && t(e);
        }, []),
        announcement: e,
      };
    })(),
    d = Ae("DndLiveRegion"),
    [u, m] = r.useState(!1);
  if (
    (r.useEffect(() => {
      m(!0);
    }, []),
    (function (e) {
      const t = r.useContext(Ve);
      r.useEffect(() => {
        if (!t)
          throw new Error(
            "useDndMonitor must be used within a children of <DndContext>",
          );
        return t(e);
      }, [e, t]);
    })(
      r.useMemo(
        () => ({
          onDragStart(e) {
            let { active: n } = e;
            i(t.onDragStart({ active: n }));
          },
          onDragMove(e) {
            let { active: n, over: a } = e;
            t.onDragMove && i(t.onDragMove({ active: n, over: a }));
          },
          onDragOver(e) {
            let { active: n, over: a } = e;
            i(t.onDragOver({ active: n, over: a }));
          },
          onDragEnd(e) {
            let { active: n, over: a } = e;
            i(t.onDragEnd({ active: n, over: a }));
          },
          onDragCancel(e) {
            let { active: n, over: a } = e;
            i(t.onDragCancel({ active: n, over: a }));
          },
        }),
        [i, t],
      ),
    ),
    !u)
  )
    return null;
  const h = s.createElement(
    s.Fragment,
    null,
    s.createElement(Ue, { id: a, value: o.draggable }),
    s.createElement(Fe, { id: d, announcement: c }),
  );
  return n ? l.createPortal(h, n) : h;
}
var Ke, Xe;
function $e() {}
function qe(e, t) {
  return r.useMemo(() => ({ sensor: e, options: null != t ? t : {} }), [e, t]);
}
(((Xe = Ke || (Ke = {})).DragStart = "dragStart"),
  (Xe.DragMove = "dragMove"),
  (Xe.DragEnd = "dragEnd"),
  (Xe.DragCancel = "dragCancel"),
  (Xe.DragOver = "dragOver"),
  (Xe.RegisterDroppable = "registerDroppable"),
  (Xe.SetDroppableDisabled = "setDroppableDisabled"),
  (Xe.UnregisterDroppable = "unregisterDroppable"));
const Ge = Object.freeze({ x: 0, y: 0 });
function Je(e, t) {
  return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2));
}
function Qe(e, t) {
  const n = _e(e);
  if (!n) return "0 0";
  return (
    ((n.x - t.left) / t.width) * 100 +
    "% " +
    ((n.y - t.top) / t.height) * 100 +
    "%"
  );
}
function et(e, t) {
  let {
      data: { value: n },
    } = e,
    {
      data: { value: a },
    } = t;
  return n - a;
}
function tt(e, t) {
  let {
      data: { value: n },
    } = e,
    {
      data: { value: a },
    } = t;
  return a - n;
}
function nt(e) {
  let { left: t, top: n, height: a, width: r } = e;
  return [
    { x: t, y: n },
    { x: t + r, y: n },
    { x: t, y: n + a },
    { x: t + r, y: n + a },
  ];
}
function at(e, t) {
  if (!e || 0 === e.length) return null;
  const [n] = e;
  return n[t];
}
function rt(e, t, n) {
  return (
    void 0 === t && (t = e.left),
    void 0 === n && (n = e.top),
    { x: t + 0.5 * e.width, y: n + 0.5 * e.height }
  );
}
const st = (e) => {
  let { collisionRect: t, droppableRects: n, droppableContainers: a } = e;
  const r = rt(t, t.left, t.top),
    s = [];
  for (const o of a) {
    const { id: e } = o,
      t = n.get(e);
    if (t) {
      const n = Je(rt(t), r);
      s.push({ id: e, data: { droppableContainer: o, value: n } });
    }
  }
  return s.sort(et);
};
function ot(e, t) {
  const n = Math.max(t.top, e.top),
    a = Math.max(t.left, e.left),
    r = Math.min(t.left + t.width, e.left + e.width),
    s = Math.min(t.top + t.height, e.top + e.height),
    o = r - a,
    i = s - n;
  if (a < r && n < s) {
    const n = t.width * t.height,
      a = e.width * e.height,
      r = o * i;
    return Number((r / (n + a - r)).toFixed(4));
  }
  return 0;
}
const it = (e) => {
  let { collisionRect: t, droppableRects: n, droppableContainers: a } = e;
  const r = [];
  for (const s of a) {
    const { id: e } = s,
      a = n.get(e);
    if (a) {
      const n = ot(a, t);
      n > 0 && r.push({ id: e, data: { droppableContainer: s, value: n } });
    }
  }
  return r.sort(tt);
};
function lt(e, t) {
  return e && t ? { x: e.left - t.left, y: e.top - t.top } : Ge;
}
function ct(e) {
  return function (t) {
    for (
      var n = arguments.length, a = new Array(n > 1 ? n - 1 : 0), r = 1;
      r < n;
      r++
    )
      a[r - 1] = arguments[r];
    return a.reduce(
      (t, n) => ({
        ...t,
        top: t.top + e * n.y,
        bottom: t.bottom + e * n.y,
        left: t.left + e * n.x,
        right: t.right + e * n.x,
      }),
      { ...t },
    );
  };
}
const dt = ct(1);
function ut(e) {
  if (e.startsWith("matrix3d(")) {
    const t = e.slice(9, -1).split(/, /);
    return { x: +t[12], y: +t[13], scaleX: +t[0], scaleY: +t[5] };
  }
  if (e.startsWith("matrix(")) {
    const t = e.slice(7, -1).split(/, /);
    return { x: +t[4], y: +t[5], scaleX: +t[0], scaleY: +t[3] };
  }
  return null;
}
const mt = { ignoreTransform: !1 };
function ht(e, t) {
  void 0 === t && (t = mt);
  let n = e.getBoundingClientRect();
  if (t.ignoreTransform) {
    const { transform: t, transformOrigin: a } = be(e).getComputedStyle(e);
    t &&
      (n = (function (e, t, n) {
        const a = ut(t);
        if (!a) return e;
        const { scaleX: r, scaleY: s, x: o, y: i } = a,
          l = e.left - o - (1 - r) * parseFloat(n),
          c = e.top - i - (1 - s) * parseFloat(n.slice(n.indexOf(" ") + 1)),
          d = r ? e.width / r : e.width,
          u = s ? e.height / s : e.height;
        return {
          width: d,
          height: u,
          top: c,
          right: l + d,
          bottom: c + u,
          left: l,
        };
      })(n, t, a));
  }
  const { top: a, left: r, width: s, height: o, bottom: i, right: l } = n;
  return { top: a, left: r, width: s, height: o, bottom: i, right: l };
}
function ft(e) {
  return ht(e, { ignoreTransform: !0 });
}
function gt(e, t) {
  const n = [];
  return e
    ? (function a(r) {
        if (null != t && n.length >= t) return n;
        if (!r) return n;
        if (
          ye(r) &&
          null != r.scrollingElement &&
          !n.includes(r.scrollingElement)
        )
          return (n.push(r.scrollingElement), n);
        if (!we(r) || je(r)) return n;
        if (n.includes(r)) return n;
        const s = be(e).getComputedStyle(r);
        return (
          r !== e &&
            (function (e, t) {
              void 0 === t && (t = be(e).getComputedStyle(e));
              const n = /(auto|scroll|overlay)/;
              return ["overflow", "overflowX", "overflowY"].some((e) => {
                const a = t[e];
                return "string" == typeof a && n.test(a);
              });
            })(r, s) &&
            n.push(r),
          (function (e, t) {
            return (
              void 0 === t && (t = be(e).getComputedStyle(e)),
              "fixed" === t.position
            );
          })(r, s)
            ? n
            : a(r.parentNode)
        );
      })(e)
    : n;
}
function pt(e) {
  const [t] = gt(e, 1);
  return null != t ? t : null;
}
function xt(e) {
  return pe && e
    ? xe(e)
      ? e
      : ve(e)
        ? ye(e) || e === Ce(e).scrollingElement
          ? window
          : we(e)
            ? e
            : null
        : null
    : null;
}
function vt(e) {
  return xe(e) ? e.scrollX : e.scrollLeft;
}
function bt(e) {
  return xe(e) ? e.scrollY : e.scrollTop;
}
function yt(e) {
  return { x: vt(e), y: bt(e) };
}
var wt, jt;
function Ct(e) {
  return !(!pe || !e) && e === document.scrollingElement;
}
function Mt(e) {
  const t = { x: 0, y: 0 },
    n = Ct(e)
      ? { height: window.innerHeight, width: window.innerWidth }
      : { height: e.clientHeight, width: e.clientWidth },
    a = { x: e.scrollWidth - n.width, y: e.scrollHeight - n.height };
  return {
    isTop: e.scrollTop <= t.y,
    isLeft: e.scrollLeft <= t.x,
    isBottom: e.scrollTop >= a.y,
    isRight: e.scrollLeft >= a.x,
    maxScroll: a,
    minScroll: t,
  };
}
(((jt = wt || (wt = {}))[(jt.Forward = 1)] = "Forward"),
  (jt[(jt.Backward = -1)] = "Backward"));
const Nt = { x: 0.2, y: 0.2 };
function kt(e, t, n, a, r) {
  let { top: s, left: o, right: i, bottom: l } = n;
  (void 0 === a && (a = 10), void 0 === r && (r = Nt));
  const { isTop: c, isBottom: d, isLeft: u, isRight: m } = Mt(e),
    h = { x: 0, y: 0 },
    f = { x: 0, y: 0 },
    g = t.height * r.y,
    p = t.width * r.x;
  return (
    !c && s <= t.top + g
      ? ((h.y = wt.Backward), (f.y = a * Math.abs((t.top + g - s) / g)))
      : !d &&
        l >= t.bottom - g &&
        ((h.y = wt.Forward), (f.y = a * Math.abs((t.bottom - g - l) / g))),
    !m && i >= t.right - p
      ? ((h.x = wt.Forward), (f.x = a * Math.abs((t.right - p - i) / p)))
      : !u &&
        o <= t.left + p &&
        ((h.x = wt.Backward), (f.x = a * Math.abs((t.left + p - o) / p))),
    { direction: h, speed: f }
  );
}
function St(e) {
  if (e === document.scrollingElement) {
    const { innerWidth: e, innerHeight: t } = window;
    return { top: 0, left: 0, right: e, bottom: t, width: e, height: t };
  }
  const { top: t, left: n, right: a, bottom: r } = e.getBoundingClientRect();
  return {
    top: t,
    left: n,
    right: a,
    bottom: r,
    width: e.clientWidth,
    height: e.clientHeight,
  };
}
function Et(e) {
  return e.reduce((e, t) => Le(e, yt(t)), Ge);
}
function Dt(e, t) {
  if ((void 0 === t && (t = ht), !e)) return;
  const { top: n, left: a, bottom: r, right: s } = t(e);
  pt(e) &&
    (r <= 0 || s <= 0 || n >= window.innerHeight || a >= window.innerWidth) &&
    e.scrollIntoView({ block: "center", inline: "center" });
}
const Rt = [
  [
    "x",
    ["left", "right"],
    function (e) {
      return e.reduce((e, t) => e + vt(t), 0);
    },
  ],
  [
    "y",
    ["top", "bottom"],
    function (e) {
      return e.reduce((e, t) => e + bt(t), 0);
    },
  ],
];
class At {
  constructor(e, t) {
    ((this.rect = void 0),
      (this.width = void 0),
      (this.height = void 0),
      (this.top = void 0),
      (this.bottom = void 0),
      (this.right = void 0),
      (this.left = void 0));
    const n = gt(t),
      a = Et(n);
    ((this.rect = { ...e }), (this.width = e.width), (this.height = e.height));
    for (const [r, s, o] of Rt)
      for (const e of s)
        Object.defineProperty(this, e, {
          get: () => {
            const t = o(n),
              s = a[r] - t;
            return this.rect[e] + s;
          },
          enumerable: !0,
        });
    Object.defineProperty(this, "rect", { enumerable: !1 });
  }
}
class Tt {
  constructor(e) {
    ((this.target = void 0),
      (this.listeners = []),
      (this.removeAll = () => {
        this.listeners.forEach((e) => {
          var t;
          return null == (t = this.target)
            ? void 0
            : t.removeEventListener(...e);
        });
      }),
      (this.target = e));
  }
  add(e, t, n) {
    var a;
    (null == (a = this.target) || a.addEventListener(e, t, n),
      this.listeners.push([e, t, n]));
  }
}
function Lt(e, t) {
  const n = Math.abs(e.x),
    a = Math.abs(e.y);
  return "number" == typeof t
    ? Math.sqrt(n ** 2 + a ** 2) > t
    : "x" in t && "y" in t
      ? n > t.x && a > t.y
      : "x" in t
        ? n > t.x
        : "y" in t && a > t.y;
}
var Ot, It, _t, zt;
function Pt(e) {
  e.preventDefault();
}
function Ht(e) {
  e.stopPropagation();
}
(((It = Ot || (Ot = {})).Click = "click"),
  (It.DragStart = "dragstart"),
  (It.Keydown = "keydown"),
  (It.ContextMenu = "contextmenu"),
  (It.Resize = "resize"),
  (It.SelectionChange = "selectionchange"),
  (It.VisibilityChange = "visibilitychange"),
  ((zt = _t || (_t = {})).Space = "Space"),
  (zt.Down = "ArrowDown"),
  (zt.Right = "ArrowRight"),
  (zt.Left = "ArrowLeft"),
  (zt.Up = "ArrowUp"),
  (zt.Esc = "Escape"),
  (zt.Enter = "Enter"),
  (zt.Tab = "Tab"));
const Bt = {
    start: [_t.Space, _t.Enter],
    cancel: [_t.Esc],
    end: [_t.Space, _t.Enter, _t.Tab],
  },
  Ut = (e, t) => {
    let { currentCoordinates: n } = t;
    switch (e.code) {
      case _t.Right:
        return { ...n, x: n.x + 25 };
      case _t.Left:
        return { ...n, x: n.x - 25 };
      case _t.Down:
        return { ...n, y: n.y + 25 };
      case _t.Up:
        return { ...n, y: n.y - 25 };
    }
  };
class Ft {
  constructor(e) {
    ((this.props = void 0),
      (this.autoScrollEnabled = !1),
      (this.referenceCoordinates = void 0),
      (this.listeners = void 0),
      (this.windowListeners = void 0),
      (this.props = e));
    const {
      event: { target: t },
    } = e;
    ((this.props = e),
      (this.listeners = new Tt(Ce(t))),
      (this.windowListeners = new Tt(be(t))),
      (this.handleKeyDown = this.handleKeyDown.bind(this)),
      (this.handleCancel = this.handleCancel.bind(this)),
      this.attach());
  }
  attach() {
    (this.handleStart(),
      this.windowListeners.add(Ot.Resize, this.handleCancel),
      this.windowListeners.add(Ot.VisibilityChange, this.handleCancel),
      setTimeout(() => this.listeners.add(Ot.Keydown, this.handleKeyDown)));
  }
  handleStart() {
    const { activeNode: e, onStart: t } = this.props,
      n = e.node.current;
    (n && Dt(n), t(Ge));
  }
  handleKeyDown(e) {
    if (Ie(e)) {
      const { active: t, context: n, options: a } = this.props,
        {
          keyboardCodes: r = Bt,
          coordinateGetter: s = Ut,
          scrollBehavior: o = "smooth",
        } = a,
        { code: i } = e;
      if (r.end.includes(i)) return void this.handleEnd(e);
      if (r.cancel.includes(i)) return void this.handleCancel(e);
      const { collisionRect: l } = n.current,
        c = l ? { x: l.left, y: l.top } : Ge;
      this.referenceCoordinates || (this.referenceCoordinates = c);
      const d = s(e, { active: t, context: n.current, currentCoordinates: c });
      if (d) {
        const t = Oe(d, c),
          a = { x: 0, y: 0 },
          { scrollableAncestors: r } = n.current;
        for (const n of r) {
          const r = e.code,
            {
              isTop: s,
              isRight: i,
              isLeft: l,
              isBottom: c,
              maxScroll: u,
              minScroll: m,
            } = Mt(n),
            h = St(n),
            f = {
              x: Math.min(
                r === _t.Right ? h.right - h.width / 2 : h.right,
                Math.max(r === _t.Right ? h.left : h.left + h.width / 2, d.x),
              ),
              y: Math.min(
                r === _t.Down ? h.bottom - h.height / 2 : h.bottom,
                Math.max(r === _t.Down ? h.top : h.top + h.height / 2, d.y),
              ),
            },
            g = (r === _t.Right && !i) || (r === _t.Left && !l),
            p = (r === _t.Down && !c) || (r === _t.Up && !s);
          if (g && f.x !== d.x) {
            const e = n.scrollLeft + t.x,
              s = (r === _t.Right && e <= u.x) || (r === _t.Left && e >= m.x);
            if (s && !t.y) return void n.scrollTo({ left: e, behavior: o });
            ((a.x = s
              ? n.scrollLeft - e
              : r === _t.Right
                ? n.scrollLeft - u.x
                : n.scrollLeft - m.x),
              a.x && n.scrollBy({ left: -a.x, behavior: o }));
            break;
          }
          if (p && f.y !== d.y) {
            const e = n.scrollTop + t.y,
              s = (r === _t.Down && e <= u.y) || (r === _t.Up && e >= m.y);
            if (s && !t.x) return void n.scrollTo({ top: e, behavior: o });
            ((a.y = s
              ? n.scrollTop - e
              : r === _t.Down
                ? n.scrollTop - u.y
                : n.scrollTop - m.y),
              a.y && n.scrollBy({ top: -a.y, behavior: o }));
            break;
          }
        }
        this.handleMove(e, Le(Oe(d, this.referenceCoordinates), a));
      }
    }
  }
  handleMove(e, t) {
    const { onMove: n } = this.props;
    (e.preventDefault(), n(t));
  }
  handleEnd(e) {
    const { onEnd: t } = this.props;
    (e.preventDefault(), this.detach(), t());
  }
  handleCancel(e) {
    const { onCancel: t } = this.props;
    (e.preventDefault(), this.detach(), t());
  }
  detach() {
    (this.listeners.removeAll(), this.windowListeners.removeAll());
  }
}
function Vt(e) {
  return Boolean(e && "distance" in e);
}
function Zt(e) {
  return Boolean(e && "delay" in e);
}
Ft.activators = [
  {
    eventName: "onKeyDown",
    handler: (e, t, n) => {
      let { keyboardCodes: a = Bt, onActivation: r } = t,
        { active: s } = n;
      const { code: o } = e.nativeEvent;
      if (a.start.includes(o)) {
        const t = s.activatorNode.current;
        return (
          (!t || e.target === t) &&
          (e.preventDefault(), null == r || r({ event: e.nativeEvent }), !0)
        );
      }
      return !1;
    },
  },
];
class Wt {
  constructor(e, t, n) {
    var a;
    (void 0 === n &&
      (n = (function (e) {
        const { EventTarget: t } = be(e);
        return e instanceof t ? e : Ce(e);
      })(e.event.target)),
      (this.props = void 0),
      (this.events = void 0),
      (this.autoScrollEnabled = !0),
      (this.document = void 0),
      (this.activated = !1),
      (this.initialCoordinates = void 0),
      (this.timeoutId = null),
      (this.listeners = void 0),
      (this.documentListeners = void 0),
      (this.windowListeners = void 0),
      (this.props = e),
      (this.events = t));
    const { event: r } = e,
      { target: s } = r;
    ((this.props = e),
      (this.events = t),
      (this.document = Ce(s)),
      (this.documentListeners = new Tt(this.document)),
      (this.listeners = new Tt(n)),
      (this.windowListeners = new Tt(be(s))),
      (this.initialCoordinates = null != (a = _e(r)) ? a : Ge),
      (this.handleStart = this.handleStart.bind(this)),
      (this.handleMove = this.handleMove.bind(this)),
      (this.handleEnd = this.handleEnd.bind(this)),
      (this.handleCancel = this.handleCancel.bind(this)),
      (this.handleKeydown = this.handleKeydown.bind(this)),
      (this.removeTextSelection = this.removeTextSelection.bind(this)),
      this.attach());
  }
  attach() {
    const {
      events: e,
      props: {
        options: { activationConstraint: t, bypassActivationConstraint: n },
      },
    } = this;
    if (
      (this.listeners.add(e.move.name, this.handleMove, { passive: !1 }),
      this.listeners.add(e.end.name, this.handleEnd),
      e.cancel && this.listeners.add(e.cancel.name, this.handleCancel),
      this.windowListeners.add(Ot.Resize, this.handleCancel),
      this.windowListeners.add(Ot.DragStart, Pt),
      this.windowListeners.add(Ot.VisibilityChange, this.handleCancel),
      this.windowListeners.add(Ot.ContextMenu, Pt),
      this.documentListeners.add(Ot.Keydown, this.handleKeydown),
      t)
    ) {
      if (
        null != n &&
        n({
          event: this.props.event,
          activeNode: this.props.activeNode,
          options: this.props.options,
        })
      )
        return this.handleStart();
      if (Zt(t))
        return (
          (this.timeoutId = setTimeout(this.handleStart, t.delay)),
          void this.handlePending(t)
        );
      if (Vt(t)) return void this.handlePending(t);
    }
    this.handleStart();
  }
  detach() {
    (this.listeners.removeAll(),
      this.windowListeners.removeAll(),
      setTimeout(this.documentListeners.removeAll, 50),
      null !== this.timeoutId &&
        (clearTimeout(this.timeoutId), (this.timeoutId = null)));
  }
  handlePending(e, t) {
    const { active: n, onPending: a } = this.props;
    a(n, e, this.initialCoordinates, t);
  }
  handleStart() {
    const { initialCoordinates: e } = this,
      { onStart: t } = this.props;
    e &&
      ((this.activated = !0),
      this.documentListeners.add(Ot.Click, Ht, { capture: !0 }),
      this.removeTextSelection(),
      this.documentListeners.add(Ot.SelectionChange, this.removeTextSelection),
      t(e));
  }
  handleMove(e) {
    var t;
    const { activated: n, initialCoordinates: a, props: r } = this,
      {
        onMove: s,
        options: { activationConstraint: o },
      } = r;
    if (!a) return;
    const i = null != (t = _e(e)) ? t : Ge,
      l = Oe(a, i);
    if (!n && o) {
      if (Vt(o)) {
        if (null != o.tolerance && Lt(l, o.tolerance))
          return this.handleCancel();
        if (Lt(l, o.distance)) return this.handleStart();
      }
      return Zt(o) && Lt(l, o.tolerance)
        ? this.handleCancel()
        : void this.handlePending(o, l);
    }
    (e.cancelable && e.preventDefault(), s(i));
  }
  handleEnd() {
    const { onAbort: e, onEnd: t } = this.props;
    (this.detach(), this.activated || e(this.props.active), t());
  }
  handleCancel() {
    const { onAbort: e, onCancel: t } = this.props;
    (this.detach(), this.activated || e(this.props.active), t());
  }
  handleKeydown(e) {
    e.code === _t.Esc && this.handleCancel();
  }
  removeTextSelection() {
    var e;
    null == (e = this.document.getSelection()) || e.removeAllRanges();
  }
}
const Yt = {
  cancel: { name: "pointercancel" },
  move: { name: "pointermove" },
  end: { name: "pointerup" },
};
class Kt extends Wt {
  constructor(e) {
    const { event: t } = e,
      n = Ce(t.target);
    super(e, Yt, n);
  }
}
Kt.activators = [
  {
    eventName: "onPointerDown",
    handler: (e, t) => {
      let { nativeEvent: n } = e,
        { onActivation: a } = t;
      return (
        !(!n.isPrimary || 0 !== n.button) && (null == a || a({ event: n }), !0)
      );
    },
  },
];
const Xt = { move: { name: "mousemove" }, end: { name: "mouseup" } };
var $t, qt;
(qt = $t || ($t = {}))[(qt.RightClick = 2)] = "RightClick";
(class extends Wt {
  constructor(e) {
    super(e, Xt, Ce(e.event.target));
  }
}).activators = [
  {
    eventName: "onMouseDown",
    handler: (e, t) => {
      let { nativeEvent: n } = e,
        { onActivation: a } = t;
      return n.button !== $t.RightClick && (null == a || a({ event: n }), !0);
    },
  },
];
const Gt = {
  cancel: { name: "touchcancel" },
  move: { name: "touchmove" },
  end: { name: "touchend" },
};
var Jt, Qt, en, tn;
function nn(e) {
  let {
    acceleration: t,
    activator: n = Jt.Pointer,
    canScroll: a,
    draggingRect: s,
    enabled: o,
    interval: i = 5,
    order: l = en.TreeOrder,
    pointerCoordinates: c,
    scrollableAncestors: d,
    scrollableAncestorRects: u,
    delta: m,
    threshold: h,
  } = e;
  const f = (function (e) {
      let { delta: t, disabled: n } = e;
      const a = De(t);
      return Se(
        (e) => {
          if (n || !a || !e) return an;
          const r = { x: Math.sign(t.x - a.x), y: Math.sign(t.y - a.y) };
          return {
            x: {
              [wt.Backward]: e.x[wt.Backward] || -1 === r.x,
              [wt.Forward]: e.x[wt.Forward] || 1 === r.x,
            },
            y: {
              [wt.Backward]: e.y[wt.Backward] || -1 === r.y,
              [wt.Forward]: e.y[wt.Forward] || 1 === r.y,
            },
          };
        },
        [n, t, a],
      );
    })({ delta: m, disabled: !o }),
    [g, p] = (function () {
      const e = r.useRef(null);
      return [
        r.useCallback((t, n) => {
          e.current = setInterval(t, n);
        }, []),
        r.useCallback(() => {
          null !== e.current && (clearInterval(e.current), (e.current = null));
        }, []),
      ];
    })(),
    x = r.useRef({ x: 0, y: 0 }),
    v = r.useRef({ x: 0, y: 0 }),
    b = r.useMemo(() => {
      switch (n) {
        case Jt.Pointer:
          return c ? { top: c.y, bottom: c.y, left: c.x, right: c.x } : null;
        case Jt.DraggableRect:
          return s;
      }
    }, [n, s, c]),
    y = r.useRef(null),
    w = r.useCallback(() => {
      const e = y.current;
      if (!e) return;
      const t = x.current.x * v.current.x,
        n = x.current.y * v.current.y;
      e.scrollBy(t, n);
    }, []),
    j = r.useMemo(() => (l === en.TreeOrder ? [...d].reverse() : d), [l, d]);
  r.useEffect(() => {
    if (o && d.length && b) {
      for (const e of j) {
        if (!1 === (null == a ? void 0 : a(e))) continue;
        const n = d.indexOf(e),
          r = u[n];
        if (!r) continue;
        const { direction: s, speed: o } = kt(e, r, b, t, h);
        for (const e of ["x", "y"]) f[e][s[e]] || ((o[e] = 0), (s[e] = 0));
        if (o.x > 0 || o.y > 0)
          return (
            p(),
            (y.current = e),
            g(w, i),
            (x.current = o),
            void (v.current = s)
          );
      }
      ((x.current = { x: 0, y: 0 }), (v.current = { x: 0, y: 0 }), p());
    } else p();
  }, [
    t,
    w,
    a,
    p,
    o,
    i,
    JSON.stringify(b),
    JSON.stringify(f),
    g,
    d,
    j,
    u,
    JSON.stringify(h),
  ]);
}
(((class extends Wt {
  constructor(e) {
    super(e, Gt);
  }
  static setup() {
    return (
      window.addEventListener(Gt.move.name, e, { capture: !1, passive: !1 }),
      function () {
        window.removeEventListener(Gt.move.name, e);
      }
    );
    function e() {}
  }
}).activators = [
  {
    eventName: "onTouchStart",
    handler: (e, t) => {
      let { nativeEvent: n } = e,
        { onActivation: a } = t;
      const { touches: r } = n;
      return !(r.length > 1) && (null == a || a({ event: n }), !0);
    },
  },
]),
  ((Qt = Jt || (Jt = {}))[(Qt.Pointer = 0)] = "Pointer"),
  (Qt[(Qt.DraggableRect = 1)] = "DraggableRect"),
  ((tn = en || (en = {}))[(tn.TreeOrder = 0)] = "TreeOrder"),
  (tn[(tn.ReversedTreeOrder = 1)] = "ReversedTreeOrder"));
const an = {
  x: { [wt.Backward]: !1, [wt.Forward]: !1 },
  y: { [wt.Backward]: !1, [wt.Forward]: !1 },
};
var rn, sn, on;
(((sn = rn || (rn = {}))[(sn.Always = 0)] = "Always"),
  (sn[(sn.BeforeDragging = 1)] = "BeforeDragging"),
  (sn[(sn.WhileDragging = 2)] = "WhileDragging"),
  ((on || (on = {})).Optimized = "optimized"));
const ln = new Map();
function cn(e, t) {
  return Se(
    (n) => (e ? n || ("function" == typeof t ? t(e) : e) : null),
    [t, e],
  );
}
function dn(e) {
  let { callback: t, disabled: n } = e;
  const a = Ne(t),
    s = r.useMemo(() => {
      if (n || "undefined" == typeof window || void 0 === window.ResizeObserver)
        return;
      const { ResizeObserver: e } = window;
      return new e(a);
    }, [n]);
  return (
    r.useEffect(() => () => (null == s ? void 0 : s.disconnect()), [s]),
    s
  );
}
function un(e) {
  return new At(ht(e), e);
}
function mn(e, t, n) {
  void 0 === t && (t = un);
  const [a, s] = r.useState(null);
  function o() {
    s((a) => {
      if (!e) return null;
      var r;
      if (!1 === e.isConnected)
        return null != (r = null != a ? a : n) ? r : null;
      const s = t(e);
      return JSON.stringify(a) === JSON.stringify(s) ? a : s;
    });
  }
  const i = (function (e) {
      let { callback: t, disabled: n } = e;
      const a = Ne(t),
        s = r.useMemo(() => {
          if (
            n ||
            "undefined" == typeof window ||
            void 0 === window.MutationObserver
          )
            return;
          const { MutationObserver: e } = window;
          return new e(a);
        }, [a, n]);
      return (
        r.useEffect(() => () => (null == s ? void 0 : s.disconnect()), [s]),
        s
      );
    })({
      callback(t) {
        if (e)
          for (const n of t) {
            const { type: t, target: a } = n;
            if (
              "childList" === t &&
              a instanceof HTMLElement &&
              a.contains(e)
            ) {
              o();
              break;
            }
          }
      },
    }),
    l = dn({ callback: o });
  return (
    Me(() => {
      (o(),
        e
          ? (null == l || l.observe(e),
            null == i ||
              i.observe(document.body, { childList: !0, subtree: !0 }))
          : (null == l || l.disconnect(), null == i || i.disconnect()));
    }, [e]),
    a
  );
}
const hn = [];
function fn(e, t) {
  void 0 === t && (t = []);
  const n = r.useRef(null);
  return (
    r.useEffect(() => {
      n.current = null;
    }, t),
    r.useEffect(() => {
      const t = e !== Ge;
      (t && !n.current && (n.current = e),
        !t && n.current && (n.current = null));
    }, [e]),
    n.current ? Oe(e, n.current) : Ge
  );
}
function gn(e) {
  return r.useMemo(
    () =>
      e
        ? (function (e) {
            const t = e.innerWidth,
              n = e.innerHeight;
            return {
              top: 0,
              left: 0,
              right: t,
              bottom: n,
              width: t,
              height: n,
            };
          })(e)
        : null,
    [e],
  );
}
const pn = [];
function xn(e) {
  if (!e) return null;
  if (e.children.length > 1) return e;
  const t = e.children[0];
  return we(t) ? t : e;
}
const vn = [
    { sensor: Kt, options: {} },
    { sensor: Ft, options: {} },
  ],
  bn = { current: {} },
  yn = {
    draggable: { measure: ft },
    droppable: {
      measure: ft,
      strategy: rn.WhileDragging,
      frequency: on.Optimized,
    },
    dragOverlay: { measure: ht },
  };
class wn extends Map {
  get(e) {
    var t;
    return null != e && null != (t = super.get(e)) ? t : void 0;
  }
  toArray() {
    return Array.from(this.values());
  }
  getEnabled() {
    return this.toArray().filter((e) => {
      let { disabled: t } = e;
      return !t;
    });
  }
  getNodeFor(e) {
    var t, n;
    return null != (t = null == (n = this.get(e)) ? void 0 : n.node.current)
      ? t
      : void 0;
  }
}
const jn = {
    activatorEvent: null,
    active: null,
    activeNode: null,
    activeNodeRect: null,
    collisions: null,
    containerNodeRect: null,
    draggableNodes: new Map(),
    droppableRects: new Map(),
    droppableContainers: new wn(),
    over: null,
    dragOverlay: { nodeRef: { current: null }, rect: null, setRef: $e },
    scrollableAncestors: [],
    scrollableAncestorRects: [],
    measuringConfiguration: yn,
    measureDroppableContainers: $e,
    windowRect: null,
    measuringScheduled: !1,
  },
  Cn = {
    activatorEvent: null,
    activators: [],
    active: null,
    activeNodeRect: null,
    ariaDescribedById: { draggable: "" },
    dispatch: $e,
    draggableNodes: new Map(),
    over: null,
    measureDroppableContainers: $e,
  },
  Mn = r.createContext(Cn),
  Nn = r.createContext(jn);
function kn() {
  return {
    draggable: {
      active: null,
      initialCoordinates: { x: 0, y: 0 },
      nodes: new Map(),
      translate: { x: 0, y: 0 },
    },
    droppable: { containers: new wn() },
  };
}
function Sn(e, t) {
  switch (t.type) {
    case Ke.DragStart:
      return {
        ...e,
        draggable: {
          ...e.draggable,
          initialCoordinates: t.initialCoordinates,
          active: t.active,
        },
      };
    case Ke.DragMove:
      return null == e.draggable.active
        ? e
        : {
            ...e,
            draggable: {
              ...e.draggable,
              translate: {
                x: t.coordinates.x - e.draggable.initialCoordinates.x,
                y: t.coordinates.y - e.draggable.initialCoordinates.y,
              },
            },
          };
    case Ke.DragEnd:
    case Ke.DragCancel:
      return {
        ...e,
        draggable: {
          ...e.draggable,
          active: null,
          initialCoordinates: { x: 0, y: 0 },
          translate: { x: 0, y: 0 },
        },
      };
    case Ke.RegisterDroppable: {
      const { element: n } = t,
        { id: a } = n,
        r = new wn(e.droppable.containers);
      return (
        r.set(a, n),
        { ...e, droppable: { ...e.droppable, containers: r } }
      );
    }
    case Ke.SetDroppableDisabled: {
      const { id: n, key: a, disabled: r } = t,
        s = e.droppable.containers.get(n);
      if (!s || a !== s.key) return e;
      const o = new wn(e.droppable.containers);
      return (
        o.set(n, { ...s, disabled: r }),
        { ...e, droppable: { ...e.droppable, containers: o } }
      );
    }
    case Ke.UnregisterDroppable: {
      const { id: n, key: a } = t,
        r = e.droppable.containers.get(n);
      if (!r || a !== r.key) return e;
      const s = new wn(e.droppable.containers);
      return (
        s.delete(n),
        { ...e, droppable: { ...e.droppable, containers: s } }
      );
    }
    default:
      return e;
  }
}
function En(e) {
  let { disabled: t } = e;
  const { active: n, activatorEvent: a, draggableNodes: s } = r.useContext(Mn),
    o = De(a),
    i = De(null == n ? void 0 : n.id);
  return (
    r.useEffect(() => {
      if (!t && !a && o && null != i) {
        if (!Ie(o)) return;
        if (document.activeElement === o.target) return;
        const e = s.get(i);
        if (!e) return;
        const { activatorNode: t, node: n } = e;
        if (!t.current && !n.current) return;
        requestAnimationFrame(() => {
          for (const e of [t.current, n.current]) {
            if (!e) continue;
            const t = He(e);
            if (t) {
              t.focus();
              break;
            }
          }
        });
      }
    }, [a, t, s, i, o]),
    null
  );
}
function Dn(e, t) {
  let { transform: n, ...a } = t;
  return null != e && e.length
    ? e.reduce((e, t) => t({ transform: e, ...a }), n)
    : n;
}
const Rn = r.createContext({ ...Ge, scaleX: 1, scaleY: 1 });
var An, Tn;
(((Tn = An || (An = {}))[(Tn.Uninitialized = 0)] = "Uninitialized"),
  (Tn[(Tn.Initializing = 1)] = "Initializing"),
  (Tn[(Tn.Initialized = 2)] = "Initialized"));
const Ln = r.memo(function (e) {
    var t, n, a, o;
    let {
      id: i,
      accessibility: c,
      autoScroll: d = !0,
      children: u,
      sensors: m = vn,
      collisionDetection: h = it,
      measuring: f,
      modifiers: g,
      ...p
    } = e;
    const x = r.useReducer(Sn, void 0, kn),
      [v, b] = x,
      [y, w] = (function () {
        const [e] = r.useState(() => new Set()),
          t = r.useCallback((t) => (e.add(t), () => e.delete(t)), [e]);
        return [
          r.useCallback(
            (t) => {
              let { type: n, event: a } = t;
              e.forEach((e) => {
                var t;
                return null == (t = e[n]) ? void 0 : t.call(e, a);
              });
            },
            [e],
          ),
          t,
        ];
      })(),
      [j, C] = r.useState(An.Uninitialized),
      M = j === An.Initialized,
      {
        draggable: { active: N, nodes: k, translate: S },
        droppable: { containers: E },
      } = v,
      D = null != N ? k.get(N) : null,
      R = r.useRef({ initial: null, translated: null }),
      A = r.useMemo(() => {
        var e;
        return null != N
          ? {
              id: N,
              data: null != (e = null == D ? void 0 : D.data) ? e : bn,
              rect: R,
            }
          : null;
      }, [N, D]),
      T = r.useRef(null),
      [L, O] = r.useState(null),
      [I, _] = r.useState(null),
      z = ke(p, Object.values(p)),
      P = Ae("DndDescribedBy", i),
      H = r.useMemo(() => E.getEnabled(), [E]),
      B =
        ((U = f),
        r.useMemo(
          () => ({
            draggable: {
              ...yn.draggable,
              ...(null == U ? void 0 : U.draggable),
            },
            droppable: {
              ...yn.droppable,
              ...(null == U ? void 0 : U.droppable),
            },
            dragOverlay: {
              ...yn.dragOverlay,
              ...(null == U ? void 0 : U.dragOverlay),
            },
          }),
          [
            null == U ? void 0 : U.draggable,
            null == U ? void 0 : U.droppable,
            null == U ? void 0 : U.dragOverlay,
          ],
        ));
    var U;
    const {
        droppableRects: F,
        measureDroppableContainers: V,
        measuringScheduled: Z,
      } = (function (e, t) {
        let { dragging: n, dependencies: a, config: s } = t;
        const [o, i] = r.useState(null),
          { frequency: l, measure: c, strategy: d } = s,
          u = r.useRef(e),
          m = (function () {
            switch (d) {
              case rn.Always:
                return !1;
              case rn.BeforeDragging:
                return n;
              default:
                return !n;
            }
          })(),
          h = ke(m),
          f = r.useCallback(
            function (e) {
              (void 0 === e && (e = []),
                h.current ||
                  i((t) =>
                    null === t ? e : t.concat(e.filter((e) => !t.includes(e))),
                  ));
            },
            [h],
          ),
          g = r.useRef(null),
          p = Se(
            (t) => {
              if (m && !n) return ln;
              if (!t || t === ln || u.current !== e || null != o) {
                const t = new Map();
                for (let n of e) {
                  if (!n) continue;
                  if (
                    o &&
                    o.length > 0 &&
                    !o.includes(n.id) &&
                    n.rect.current
                  ) {
                    t.set(n.id, n.rect.current);
                    continue;
                  }
                  const e = n.node.current,
                    a = e ? new At(c(e), e) : null;
                  ((n.rect.current = a), a && t.set(n.id, a));
                }
                return t;
              }
              return t;
            },
            [e, o, n, m, c],
          );
        return (
          r.useEffect(() => {
            u.current = e;
          }, [e]),
          r.useEffect(() => {
            m || f();
          }, [n, m]),
          r.useEffect(() => {
            o && o.length > 0 && i(null);
          }, [JSON.stringify(o)]),
          r.useEffect(() => {
            m ||
              "number" != typeof l ||
              null !== g.current ||
              (g.current = setTimeout(() => {
                (f(), (g.current = null));
              }, l));
          }, [l, m, f, ...a]),
          {
            droppableRects: p,
            measureDroppableContainers: f,
            measuringScheduled: null != o,
          }
        );
      })(H, { dragging: M, dependencies: [S.x, S.y], config: B.droppable }),
      W = (function (e, t) {
        const n = null != t ? e.get(t) : void 0,
          a = n ? n.node.current : null;
        return Se(
          (e) => {
            var n;
            return null == t
              ? null
              : null != (n = null != a ? a : e)
                ? n
                : null;
          },
          [a, t],
        );
      })(k, N),
      Y = r.useMemo(() => (I ? _e(I) : null), [I]),
      K = (function () {
        const e = !1 === (null == L ? void 0 : L.autoScrollEnabled),
          t = "object" == typeof d ? !1 === d.enabled : !1 === d,
          n = M && !e && !t;
        if ("object" == typeof d) return { ...d, enabled: n };
        return { enabled: n };
      })(),
      X = (function (e, t) {
        return cn(e, t);
      })(W, B.draggable.measure);
    !(function (e) {
      let { activeNode: t, measure: n, initialRect: a, config: s = !0 } = e;
      const o = r.useRef(!1),
        { x: i, y: l } = "boolean" == typeof s ? { x: s, y: s } : s;
      Me(() => {
        if ((!i && !l) || !t) return void (o.current = !1);
        if (o.current || !a) return;
        const e = null == t ? void 0 : t.node.current;
        if (!e || !1 === e.isConnected) return;
        const r = lt(n(e), a);
        if (
          (i || (r.x = 0),
          l || (r.y = 0),
          (o.current = !0),
          Math.abs(r.x) > 0 || Math.abs(r.y) > 0)
        ) {
          const t = pt(e);
          t && t.scrollBy({ top: r.y, left: r.x });
        }
      }, [t, i, l, a, n]);
    })({
      activeNode: null != N ? k.get(N) : null,
      config: K.layoutShiftCompensation,
      initialRect: X,
      measure: B.draggable.measure,
    });
    const $ = mn(W, B.draggable.measure, X),
      q = mn(W ? W.parentElement : null),
      G = r.useRef({
        activatorEvent: null,
        active: null,
        activeNode: W,
        collisionRect: null,
        collisions: null,
        droppableRects: F,
        draggableNodes: k,
        draggingNode: null,
        draggingNodeRect: null,
        droppableContainers: E,
        over: null,
        scrollableAncestors: [],
        scrollAdjustedTranslate: null,
      }),
      J = E.getNodeFor(null == (t = G.current.over) ? void 0 : t.id),
      Q = (function (e) {
        let { measure: t } = e;
        const [n, a] = r.useState(null),
          s = dn({
            callback: r.useCallback(
              (e) => {
                for (const { target: n } of e)
                  if (we(n)) {
                    a((e) => {
                      const a = t(n);
                      return e ? { ...e, width: a.width, height: a.height } : a;
                    });
                    break;
                  }
              },
              [t],
            ),
          }),
          o = r.useCallback(
            (e) => {
              const n = xn(e);
              (null == s || s.disconnect(),
                n && (null == s || s.observe(n)),
                a(n ? t(n) : null));
            },
            [t, s],
          ),
          [i, l] = Ee(o);
        return r.useMemo(() => ({ nodeRef: i, rect: n, setRef: l }), [n, i, l]);
      })({ measure: B.dragOverlay.measure }),
      ee = null != (n = Q.nodeRef.current) ? n : W,
      te = M ? (null != (a = Q.rect) ? a : $) : null,
      ne = Boolean(Q.nodeRef.current && Q.rect),
      ae = lt((re = ne ? null : $), cn(re));
    var re;
    const se = gn(ee ? be(ee) : null),
      oe = (function (e) {
        const t = r.useRef(e),
          n = Se(
            (n) =>
              e
                ? n &&
                  n !== hn &&
                  e &&
                  t.current &&
                  e.parentNode === t.current.parentNode
                  ? n
                  : gt(e)
                : hn,
            [e],
          );
        return (
          r.useEffect(() => {
            t.current = e;
          }, [e]),
          n
        );
      })(M ? (null != J ? J : W) : null),
      ie = (function (e, t) {
        void 0 === t && (t = ht);
        const [n] = e,
          a = gn(n ? be(n) : null),
          [s, o] = r.useState(pn);
        function i() {
          o(() =>
            e.length ? e.map((e) => (Ct(e) ? a : new At(t(e), e))) : pn,
          );
        }
        const l = dn({ callback: i });
        return (
          Me(() => {
            (null == l || l.disconnect(),
              i(),
              e.forEach((e) => (null == l ? void 0 : l.observe(e))));
          }, [e]),
          s
        );
      })(oe),
      le = Dn(g, {
        transform: { x: S.x - ae.x, y: S.y - ae.y, scaleX: 1, scaleY: 1 },
        activatorEvent: I,
        active: A,
        activeNodeRect: $,
        containerNodeRect: q,
        draggingNodeRect: te,
        over: G.current.over,
        overlayNodeRect: Q.rect,
        scrollableAncestors: oe,
        scrollableAncestorRects: ie,
        windowRect: se,
      }),
      ce = Y ? Le(Y, S) : null,
      de = (function (e) {
        const [t, n] = r.useState(null),
          a = r.useRef(e),
          s = r.useCallback((e) => {
            const t = xt(e.target);
            t && n((e) => (e ? (e.set(t, yt(t)), new Map(e)) : null));
          }, []);
        return (
          r.useEffect(() => {
            const t = a.current;
            if (e !== t) {
              r(t);
              const o = e
                .map((e) => {
                  const t = xt(e);
                  return t
                    ? (t.addEventListener("scroll", s, { passive: !0 }),
                      [t, yt(t)])
                    : null;
                })
                .filter((e) => null != e);
              (n(o.length ? new Map(o) : null), (a.current = e));
            }
            return () => {
              (r(e), r(t));
            };
            function r(e) {
              e.forEach((e) => {
                const t = xt(e);
                null == t || t.removeEventListener("scroll", s);
              });
            }
          }, [s, e]),
          r.useMemo(
            () =>
              e.length
                ? t
                  ? Array.from(t.values()).reduce((e, t) => Le(e, t), Ge)
                  : Et(e)
                : Ge,
            [e, t],
          )
        );
      })(oe),
      ue = fn(de),
      me = fn(de, [$]),
      he = Le(le, ue),
      fe = te ? dt(te, le) : null,
      ge =
        A && fe
          ? h({
              active: A,
              collisionRect: fe,
              droppableRects: F,
              droppableContainers: H,
              pointerCoordinates: ce,
            })
          : null,
      xe = at(ge, "id"),
      [ve, ye] = r.useState(null),
      je = (function (e, t, n) {
        return {
          ...e,
          scaleX: t && n ? t.width / n.width : 1,
          scaleY: t && n ? t.height / n.height : 1,
        };
      })(
        ne ? le : Le(le, me),
        null != (o = null == ve ? void 0 : ve.rect) ? o : null,
        $,
      ),
      Ce = r.useRef(null),
      Ne = r.useCallback(
        (e, t) => {
          let { sensor: n, options: a } = t;
          if (null == T.current) return;
          const r = k.get(T.current);
          if (!r) return;
          const s = e.nativeEvent,
            o = new n({
              active: T.current,
              activeNode: r,
              event: s,
              options: a,
              context: G,
              onAbort(e) {
                if (!k.get(e)) return;
                const { onDragAbort: t } = z.current,
                  n = { id: e };
                (null == t || t(n), y({ type: "onDragAbort", event: n }));
              },
              onPending(e, t, n, a) {
                if (!k.get(e)) return;
                const { onDragPending: r } = z.current,
                  s = {
                    id: e,
                    constraint: t,
                    initialCoordinates: n,
                    offset: a,
                  };
                (null == r || r(s), y({ type: "onDragPending", event: s }));
              },
              onStart(e) {
                const t = T.current;
                if (null == t) return;
                const n = k.get(t);
                if (!n) return;
                const { onDragStart: a } = z.current,
                  r = {
                    activatorEvent: s,
                    active: { id: t, data: n.data, rect: R },
                  };
                l.unstable_batchedUpdates(() => {
                  (null == a || a(r),
                    C(An.Initializing),
                    b({ type: Ke.DragStart, initialCoordinates: e, active: t }),
                    y({ type: "onDragStart", event: r }),
                    O(Ce.current),
                    _(s));
                });
              },
              onMove(e) {
                b({ type: Ke.DragMove, coordinates: e });
              },
              onEnd: i(Ke.DragEnd),
              onCancel: i(Ke.DragCancel),
            });
          function i(e) {
            return async function () {
              const {
                active: t,
                collisions: n,
                over: a,
                scrollAdjustedTranslate: r,
              } = G.current;
              let o = null;
              if (t && r) {
                const { cancelDrop: i } = z.current;
                if (
                  ((o = {
                    activatorEvent: s,
                    active: t,
                    collisions: n,
                    delta: r,
                    over: a,
                  }),
                  e === Ke.DragEnd && "function" == typeof i)
                ) {
                  (await Promise.resolve(i(o))) && (e = Ke.DragCancel);
                }
              }
              ((T.current = null),
                l.unstable_batchedUpdates(() => {
                  (b({ type: e }),
                    C(An.Uninitialized),
                    ye(null),
                    O(null),
                    _(null),
                    (Ce.current = null));
                  const t = e === Ke.DragEnd ? "onDragEnd" : "onDragCancel";
                  if (o) {
                    const e = z.current[t];
                    (null == e || e(o), y({ type: t, event: o }));
                  }
                }));
            };
          }
          Ce.current = o;
        },
        [k],
      ),
      De = (function (e, t) {
        return r.useMemo(
          () =>
            e.reduce((e, n) => {
              const { sensor: a } = n;
              return [
                ...e,
                ...a.activators.map((e) => ({
                  eventName: e.eventName,
                  handler: t(e.handler, n),
                })),
              ];
            }, []),
          [e, t],
        );
      })(
        m,
        r.useCallback(
          (e, t) => (n, a) => {
            const r = n.nativeEvent,
              s = k.get(a);
            if (null !== T.current || !s || r.dndKit || r.defaultPrevented)
              return;
            const o = { active: s };
            !0 === e(n, t.options, o) &&
              ((r.dndKit = { capturedBy: t.sensor }),
              (T.current = a),
              Ne(n, t));
          },
          [k, Ne],
        ),
      );
    (!(function (e) {
      r.useEffect(
        () => {
          if (!pe) return;
          const t = e.map((e) => {
            let { sensor: t } = e;
            return null == t.setup ? void 0 : t.setup();
          });
          return () => {
            for (const e of t) null == e || e();
          };
        },
        e.map((e) => {
          let { sensor: t } = e;
          return t;
        }),
      );
    })(m),
      Me(() => {
        $ && j === An.Initializing && C(An.Initialized);
      }, [$, j]),
      r.useEffect(() => {
        const { onDragMove: e } = z.current,
          { active: t, activatorEvent: n, collisions: a, over: r } = G.current;
        if (!t || !n) return;
        const s = {
          active: t,
          activatorEvent: n,
          collisions: a,
          delta: { x: he.x, y: he.y },
          over: r,
        };
        l.unstable_batchedUpdates(() => {
          (null == e || e(s), y({ type: "onDragMove", event: s }));
        });
      }, [he.x, he.y]),
      r.useEffect(() => {
        const {
          active: e,
          activatorEvent: t,
          collisions: n,
          droppableContainers: a,
          scrollAdjustedTranslate: r,
        } = G.current;
        if (!e || null == T.current || !t || !r) return;
        const { onDragOver: s } = z.current,
          o = a.get(xe),
          i =
            o && o.rect.current
              ? {
                  id: o.id,
                  rect: o.rect.current,
                  data: o.data,
                  disabled: o.disabled,
                }
              : null,
          c = {
            active: e,
            activatorEvent: t,
            collisions: n,
            delta: { x: r.x, y: r.y },
            over: i,
          };
        l.unstable_batchedUpdates(() => {
          (ye(i), null == s || s(c), y({ type: "onDragOver", event: c }));
        });
      }, [xe]),
      Me(() => {
        ((G.current = {
          activatorEvent: I,
          active: A,
          activeNode: W,
          collisionRect: fe,
          collisions: ge,
          droppableRects: F,
          draggableNodes: k,
          draggingNode: ee,
          draggingNodeRect: te,
          droppableContainers: E,
          over: ve,
          scrollableAncestors: oe,
          scrollAdjustedTranslate: he,
        }),
          (R.current = { initial: te, translated: fe }));
      }, [A, W, ge, fe, k, ee, te, F, E, ve, oe, he]),
      nn({
        ...K,
        delta: S,
        draggingRect: fe,
        pointerCoordinates: ce,
        scrollableAncestors: oe,
        scrollableAncestorRects: ie,
      }));
    const Re = r.useMemo(
        () => ({
          active: A,
          activeNode: W,
          activeNodeRect: $,
          activatorEvent: I,
          collisions: ge,
          containerNodeRect: q,
          dragOverlay: Q,
          draggableNodes: k,
          droppableContainers: E,
          droppableRects: F,
          over: ve,
          measureDroppableContainers: V,
          scrollableAncestors: oe,
          scrollableAncestorRects: ie,
          measuringConfiguration: B,
          measuringScheduled: Z,
          windowRect: se,
        }),
        [A, W, $, I, ge, q, Q, k, E, F, ve, V, oe, ie, B, Z, se],
      ),
      Te = r.useMemo(
        () => ({
          activatorEvent: I,
          activators: De,
          active: A,
          activeNodeRect: $,
          ariaDescribedById: { draggable: P },
          dispatch: b,
          draggableNodes: k,
          over: ve,
          measureDroppableContainers: V,
        }),
        [I, De, A, $, b, P, k, ve, V],
      );
    return s.createElement(
      Ve.Provider,
      { value: w },
      s.createElement(
        Mn.Provider,
        { value: Te },
        s.createElement(
          Nn.Provider,
          { value: Re },
          s.createElement(Rn.Provider, { value: je }, u),
        ),
        s.createElement(En, {
          disabled: !1 === (null == c ? void 0 : c.restoreFocus),
        }),
      ),
      s.createElement(Ye, { ...c, hiddenTextDescribedById: P }),
    );
  }),
  On = r.createContext(null),
  In = "button";
function _n(e) {
  let { id: t, data: n, disabled: a = !1, attributes: s } = e;
  const o = Ae("Draggable"),
    {
      activators: i,
      activatorEvent: l,
      active: c,
      activeNodeRect: d,
      ariaDescribedById: u,
      draggableNodes: m,
      over: h,
    } = r.useContext(Mn),
    {
      role: f = In,
      roleDescription: g = "draggable",
      tabIndex: p = 0,
    } = null != s ? s : {},
    x = (null == c ? void 0 : c.id) === t,
    v = r.useContext(x ? Rn : On),
    [b, y] = Ee(),
    [w, j] = Ee(),
    C = (function (e, t) {
      return r.useMemo(
        () =>
          e.reduce((e, n) => {
            let { eventName: a, handler: r } = n;
            return (
              (e[a] = (e) => {
                r(e, t);
              }),
              e
            );
          }, {}),
        [e, t],
      );
    })(i, t),
    M = ke(n);
  Me(
    () => (
      m.set(t, { id: t, key: o, node: b, activatorNode: w, data: M }),
      () => {
        const e = m.get(t);
        e && e.key === o && m.delete(t);
      }
    ),
    [m, t],
  );
  return {
    active: c,
    activatorEvent: l,
    activeNodeRect: d,
    attributes: r.useMemo(
      () => ({
        role: f,
        tabIndex: p,
        "aria-disabled": a,
        "aria-pressed": !(!x || f !== In) || void 0,
        "aria-roledescription": g,
        "aria-describedby": u.draggable,
      }),
      [a, f, p, x, g, u.draggable],
    ),
    isDragging: x,
    listeners: a ? void 0 : C,
    node: b,
    over: h,
    setNodeRef: y,
    setActivatorNodeRef: j,
    transform: v,
  };
}
function zn() {
  return r.useContext(Nn);
}
const Pn = { timeout: 25 };
function Hn(e) {
  let { animation: t, children: n } = e;
  const [a, o] = r.useState(null),
    [i, l] = r.useState(null),
    c = De(n);
  return (
    n || a || !c || o(c),
    Me(() => {
      if (!i) return;
      const e = null == a ? void 0 : a.key,
        n = null == a ? void 0 : a.props.id;
      null != e && null != n
        ? Promise.resolve(t(n, i)).then(() => {
            o(null);
          })
        : o(null);
    }, [t, a, i]),
    s.createElement(
      s.Fragment,
      null,
      n,
      a ? r.cloneElement(a, { ref: l }) : null,
    )
  );
}
const Bn = { x: 0, y: 0, scaleX: 1, scaleY: 1 };
function Un(e) {
  let { children: t } = e;
  return s.createElement(
    Mn.Provider,
    { value: Cn },
    s.createElement(Rn.Provider, { value: Bn }, t),
  );
}
const Fn = { position: "fixed", touchAction: "none" },
  Vn = (e) => (Ie(e) ? "transform 250ms ease" : void 0),
  Zn = r.forwardRef((e, t) => {
    let {
      as: n,
      activatorEvent: a,
      adjustScale: r,
      children: o,
      className: i,
      rect: l,
      style: c,
      transform: d,
      transition: u = Vn,
    } = e;
    if (!l) return null;
    const m = r ? d : { ...d, scaleX: 1, scaleY: 1 },
      h = {
        ...Fn,
        width: l.width,
        height: l.height,
        top: l.top,
        left: l.left,
        transform: ze.Transform.toString(m),
        transformOrigin: r && a ? Qe(a, l) : void 0,
        transition: "function" == typeof u ? u(a) : u,
        ...c,
      };
    return s.createElement(n, { className: i, style: h, ref: t }, o);
  }),
  Wn = {
    duration: 250,
    easing: "ease",
    keyframes: (e) => {
      let {
        transform: { initial: t, final: n },
      } = e;
      return [
        { transform: ze.Transform.toString(t) },
        { transform: ze.Transform.toString(n) },
      ];
    },
    sideEffects: ((e) => (t) => {
      let { active: n, dragOverlay: a } = t;
      const r = {},
        { styles: s, className: o } = e;
      if (null != s && s.active)
        for (const [e, i] of Object.entries(s.active))
          void 0 !== i &&
            ((r[e] = n.node.style.getPropertyValue(e)),
            n.node.style.setProperty(e, i));
      if (null != s && s.dragOverlay)
        for (const [e, i] of Object.entries(s.dragOverlay))
          void 0 !== i && a.node.style.setProperty(e, i);
      return (
        null != o && o.active && n.node.classList.add(o.active),
        null != o && o.dragOverlay && a.node.classList.add(o.dragOverlay),
        function () {
          for (const [e, t] of Object.entries(r))
            n.node.style.setProperty(e, t);
          null != o && o.active && n.node.classList.remove(o.active);
        }
      );
    })({ styles: { active: { opacity: "0" } } }),
  };
function Yn(e) {
  let {
    config: t,
    draggableNodes: n,
    droppableContainers: a,
    measuringConfiguration: r,
  } = e;
  return Ne((e, s) => {
    if (null === t) return;
    const o = n.get(e);
    if (!o) return;
    const i = o.node.current;
    if (!i) return;
    const l = xn(s);
    if (!l) return;
    const { transform: c } = be(s).getComputedStyle(s),
      d = ut(c);
    if (!d) return;
    const u =
      "function" == typeof t
        ? t
        : (function (e) {
            const {
              duration: t,
              easing: n,
              sideEffects: a,
              keyframes: r,
            } = { ...Wn, ...e };
            return (e) => {
              let { active: s, dragOverlay: o, transform: i, ...l } = e;
              if (!t) return;
              const c = {
                  x: o.rect.left - s.rect.left,
                  y: o.rect.top - s.rect.top,
                },
                d = {
                  scaleX:
                    1 !== i.scaleX
                      ? (s.rect.width * i.scaleX) / o.rect.width
                      : 1,
                  scaleY:
                    1 !== i.scaleY
                      ? (s.rect.height * i.scaleY) / o.rect.height
                      : 1,
                },
                u = { x: i.x - c.x, y: i.y - c.y, ...d },
                m = r({
                  ...l,
                  active: s,
                  dragOverlay: o,
                  transform: { initial: i, final: u },
                }),
                [h] = m,
                f = m[m.length - 1];
              if (JSON.stringify(h) === JSON.stringify(f)) return;
              const g =
                  null == a ? void 0 : a({ active: s, dragOverlay: o, ...l }),
                p = o.node.animate(m, {
                  duration: t,
                  easing: n,
                  fill: "forwards",
                });
              return new Promise((e) => {
                p.onfinish = () => {
                  (null == g || g(), e());
                };
              });
            };
          })(t);
    return (
      Dt(i, r.draggable.measure),
      u({
        active: { id: e, data: o.data, node: i, rect: r.draggable.measure(i) },
        draggableNodes: n,
        dragOverlay: { node: s, rect: r.dragOverlay.measure(l) },
        droppableContainers: a,
        measuringConfiguration: r,
        transform: d,
      })
    );
  });
}
let Kn = 0;
const Xn = s.memo((e) => {
  let {
    adjustScale: t = !1,
    children: n,
    dropAnimation: a,
    style: o,
    transition: i,
    modifiers: l,
    wrapperElement: c = "div",
    className: d,
    zIndex: u = 999,
  } = e;
  const {
      activatorEvent: m,
      active: h,
      activeNodeRect: f,
      containerNodeRect: g,
      draggableNodes: p,
      droppableContainers: x,
      dragOverlay: v,
      over: b,
      measuringConfiguration: y,
      scrollableAncestors: w,
      scrollableAncestorRects: j,
      windowRect: C,
    } = zn(),
    M = r.useContext(Rn),
    N =
      ((k = null == h ? void 0 : h.id),
      r.useMemo(() => {
        if (null != k) return (Kn++, Kn);
      }, [k]));
  var k;
  const S = Dn(l, {
      activatorEvent: m,
      active: h,
      activeNodeRect: f,
      containerNodeRect: g,
      draggingNodeRect: v.rect,
      over: b,
      overlayNodeRect: v.rect,
      scrollableAncestors: w,
      scrollableAncestorRects: j,
      transform: M,
      windowRect: C,
    }),
    E = cn(f),
    D = Yn({
      config: a,
      draggableNodes: p,
      droppableContainers: x,
      measuringConfiguration: y,
    }),
    R = E ? v.setRef : void 0;
  return s.createElement(
    Un,
    null,
    s.createElement(
      Hn,
      { animation: D },
      h && N
        ? s.createElement(
            Zn,
            {
              key: N,
              id: h.id,
              ref: R,
              as: c,
              activatorEvent: m,
              adjustScale: t,
              className: d,
              transition: i,
              rect: E,
              style: { zIndex: u, ...o },
              transform: S,
            },
            n,
          )
        : null,
    ),
  );
});
function $n(e, t, n) {
  const a = e.slice();
  return (a.splice(n < 0 ? a.length + n : n, 0, a.splice(t, 1)[0]), a);
}
function qn(e, t) {
  return e.reduce((e, n, a) => {
    const r = t.get(n);
    return (r && (e[a] = r), e);
  }, Array(e.length));
}
function Gn(e) {
  return null !== e && e >= 0;
}
const Jn = (e) => {
    let { rects: t, activeIndex: n, overIndex: a, index: r } = e;
    const s = $n(t, a, n),
      o = t[r],
      i = s[r];
    return i && o
      ? {
          x: i.left - o.left,
          y: i.top - o.top,
          scaleX: i.width / o.width,
          scaleY: i.height / o.height,
        }
      : null;
  },
  Qn = "Sortable",
  ea = s.createContext({
    activeIndex: -1,
    containerId: Qn,
    disableTransforms: !1,
    items: [],
    overIndex: -1,
    useDragOverlay: !1,
    sortedRects: [],
    strategy: Jn,
    disabled: { draggable: !1, droppable: !1 },
  });
function ta(e) {
  let { children: t, id: n, items: a, strategy: o = Jn, disabled: i = !1 } = e;
  const {
      active: l,
      dragOverlay: c,
      droppableRects: d,
      over: u,
      measureDroppableContainers: m,
    } = zn(),
    h = Ae(Qn, n),
    f = Boolean(null !== c.rect),
    g = r.useMemo(
      () => a.map((e) => ("object" == typeof e && "id" in e ? e.id : e)),
      [a],
    ),
    p = null != l,
    x = l ? g.indexOf(l.id) : -1,
    v = u ? g.indexOf(u.id) : -1,
    b = r.useRef(g),
    y = !(function (e, t) {
      if (e === t) return !0;
      if (e.length !== t.length) return !1;
      for (let n = 0; n < e.length; n++) if (e[n] !== t[n]) return !1;
      return !0;
    })(g, b.current),
    w = (-1 !== v && -1 === x) || y,
    j = (function (e) {
      return "boolean" == typeof e ? { draggable: e, droppable: e } : e;
    })(i);
  (Me(() => {
    y && p && m(g);
  }, [y, g, p, m]),
    r.useEffect(() => {
      b.current = g;
    }, [g]));
  const C = r.useMemo(
    () => ({
      activeIndex: x,
      containerId: h,
      disabled: j,
      disableTransforms: w,
      items: g,
      overIndex: v,
      useDragOverlay: f,
      sortedRects: qn(g, d),
      strategy: o,
    }),
    [x, h, j.draggable, j.droppable, w, g, v, d, f, o],
  );
  return s.createElement(ea.Provider, { value: C }, t);
}
const na = (e) => {
    let { id: t, items: n, activeIndex: a, overIndex: r } = e;
    return $n(n, a, r).indexOf(t);
  },
  aa = (e) => {
    let {
      containerId: t,
      isSorting: n,
      wasDragging: a,
      index: r,
      items: s,
      newIndex: o,
      previousItems: i,
      previousContainerId: l,
      transition: c,
    } = e;
    return !(!c || !a) && (i === s || r !== o) && (!!n || (o !== r && t === l));
  },
  ra = { duration: 200, easing: "ease" },
  sa = "transform",
  oa = ze.Transition.toString({ property: sa, duration: 0, easing: "linear" }),
  ia = { roleDescription: "sortable" };
function la(e) {
  let {
    animateLayoutChanges: t = aa,
    attributes: n,
    disabled: a,
    data: s,
    getNewIndex: o = na,
    id: i,
    strategy: l,
    resizeObserverConfig: c,
    transition: d = ra,
  } = e;
  const {
      items: u,
      containerId: m,
      activeIndex: h,
      disabled: f,
      disableTransforms: g,
      sortedRects: p,
      overIndex: x,
      useDragOverlay: v,
      strategy: b,
    } = r.useContext(ea),
    y = (function (e, t) {
      var n, a;
      if ("boolean" == typeof e) return { draggable: e, droppable: !1 };
      return {
        draggable:
          null != (n = null == e ? void 0 : e.draggable) ? n : t.draggable,
        droppable:
          null != (a = null == e ? void 0 : e.droppable) ? a : t.droppable,
      };
    })(a, f),
    w = u.indexOf(i),
    j = r.useMemo(
      () => ({ sortable: { containerId: m, index: w, items: u }, ...s }),
      [m, s, w, u],
    ),
    C = r.useMemo(() => u.slice(u.indexOf(i)), [u, i]),
    {
      rect: M,
      node: N,
      isOver: k,
      setNodeRef: S,
    } = (function (e) {
      let { data: t, disabled: n = !1, id: a, resizeObserverConfig: s } = e;
      const o = Ae("Droppable"),
        {
          active: i,
          dispatch: l,
          over: c,
          measureDroppableContainers: d,
        } = r.useContext(Mn),
        u = r.useRef({ disabled: n }),
        m = r.useRef(!1),
        h = r.useRef(null),
        f = r.useRef(null),
        { disabled: g, updateMeasurementsFor: p, timeout: x } = { ...Pn, ...s },
        v = ke(null != p ? p : a),
        b = dn({
          callback: r.useCallback(() => {
            m.current
              ? (null != f.current && clearTimeout(f.current),
                (f.current = setTimeout(() => {
                  (d(Array.isArray(v.current) ? v.current : [v.current]),
                    (f.current = null));
                }, x)))
              : (m.current = !0);
          }, [x]),
          disabled: g || !i,
        }),
        y = r.useCallback(
          (e, t) => {
            b && (t && (b.unobserve(t), (m.current = !1)), e && b.observe(e));
          },
          [b],
        ),
        [w, j] = Ee(y),
        C = ke(t);
      return (
        r.useEffect(() => {
          b &&
            w.current &&
            (b.disconnect(), (m.current = !1), b.observe(w.current));
        }, [w, b]),
        r.useEffect(
          () => (
            l({
              type: Ke.RegisterDroppable,
              element: {
                id: a,
                key: o,
                disabled: n,
                node: w,
                rect: h,
                data: C,
              },
            }),
            () => l({ type: Ke.UnregisterDroppable, key: o, id: a })
          ),
          [a],
        ),
        r.useEffect(() => {
          n !== u.current.disabled &&
            (l({ type: Ke.SetDroppableDisabled, id: a, key: o, disabled: n }),
            (u.current.disabled = n));
        }, [a, o, n, l]),
        {
          active: i,
          rect: h,
          isOver: (null == c ? void 0 : c.id) === a,
          node: w,
          over: c,
          setNodeRef: j,
        }
      );
    })({
      id: i,
      data: j,
      disabled: y.droppable,
      resizeObserverConfig: { updateMeasurementsFor: C, ...c },
    }),
    {
      active: E,
      activatorEvent: D,
      activeNodeRect: R,
      attributes: A,
      setNodeRef: T,
      listeners: L,
      isDragging: O,
      over: I,
      setActivatorNodeRef: _,
      transform: z,
    } = _n({
      id: i,
      data: j,
      attributes: { ...ia, ...n },
      disabled: y.draggable,
    }),
    P = (function () {
      for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
        t[n] = arguments[n];
      return r.useMemo(
        () => (e) => {
          t.forEach((t) => t(e));
        },
        t,
      );
    })(S, T),
    H = Boolean(E),
    B = H && !g && Gn(h) && Gn(x),
    U = !v && O,
    F = U && B ? z : null,
    V = B
      ? null != F
        ? F
        : (null != l ? l : b)({
            rects: p,
            activeNodeRect: R,
            activeIndex: h,
            overIndex: x,
            index: w,
          })
      : null,
    Z =
      Gn(h) && Gn(x) ? o({ id: i, items: u, activeIndex: h, overIndex: x }) : w,
    W = null == E ? void 0 : E.id,
    Y = r.useRef({ activeId: W, items: u, newIndex: Z, containerId: m }),
    K = u !== Y.current.items,
    X = t({
      active: E,
      containerId: m,
      isDragging: O,
      isSorting: H,
      id: i,
      index: w,
      items: u,
      newIndex: Y.current.newIndex,
      previousItems: Y.current.items,
      previousContainerId: Y.current.containerId,
      transition: d,
      wasDragging: null != Y.current.activeId,
    }),
    $ = (function (e) {
      let { disabled: t, index: n, node: a, rect: s } = e;
      const [o, i] = r.useState(null),
        l = r.useRef(n);
      return (
        Me(() => {
          if (!t && n !== l.current && a.current) {
            const e = s.current;
            if (e) {
              const t = ht(a.current, { ignoreTransform: !0 }),
                n = {
                  x: e.left - t.left,
                  y: e.top - t.top,
                  scaleX: e.width / t.width,
                  scaleY: e.height / t.height,
                };
              (n.x || n.y) && i(n);
            }
          }
          n !== l.current && (l.current = n);
        }, [t, n, a, s]),
        r.useEffect(() => {
          o && i(null);
        }, [o]),
        o
      );
    })({ disabled: !X, index: w, node: N, rect: M });
  return (
    r.useEffect(() => {
      (H && Y.current.newIndex !== Z && (Y.current.newIndex = Z),
        m !== Y.current.containerId && (Y.current.containerId = m),
        u !== Y.current.items && (Y.current.items = u));
    }, [H, Z, m, u]),
    r.useEffect(() => {
      if (W === Y.current.activeId) return;
      if (null != W && null == Y.current.activeId)
        return void (Y.current.activeId = W);
      const e = setTimeout(() => {
        Y.current.activeId = W;
      }, 50);
      return () => clearTimeout(e);
    }, [W]),
    {
      active: E,
      activeIndex: h,
      attributes: A,
      data: j,
      rect: M,
      index: w,
      newIndex: Z,
      items: u,
      isOver: k,
      isSorting: H,
      isDragging: O,
      listeners: L,
      node: N,
      overIndex: x,
      over: I,
      setNodeRef: P,
      setActivatorNodeRef: _,
      setDroppableNodeRef: S,
      setDraggableNodeRef: T,
      transform: null != $ ? $ : V,
      transition: (function () {
        if ($ || (K && Y.current.newIndex === w)) return oa;
        if ((U && !Ie(D)) || !d) return;
        if (H || X) return ze.Transition.toString({ ...d, property: sa });
        return;
      })(),
    }
  );
}
function ca(e) {
  if (!e) return !1;
  const t = e.data.current;
  return !!(
    t &&
    "sortable" in t &&
    "object" == typeof t.sortable &&
    "containerId" in t.sortable &&
    "items" in t.sortable &&
    "index" in t.sortable
  );
}
const da = [_t.Down, _t.Right, _t.Up, _t.Left],
  ua = (e, t) => {
    let {
      context: {
        active: n,
        collisionRect: a,
        droppableRects: r,
        droppableContainers: s,
        over: o,
        scrollableAncestors: i,
      },
    } = t;
    if (da.includes(e.code)) {
      if ((e.preventDefault(), !n || !a)) return;
      const t = [];
      s.getEnabled().forEach((n) => {
        if (!n || (null != n && n.disabled)) return;
        const s = r.get(n.id);
        if (s)
          switch (e.code) {
            case _t.Down:
              a.top < s.top && t.push(n);
              break;
            case _t.Up:
              a.top > s.top && t.push(n);
              break;
            case _t.Left:
              a.left > s.left && t.push(n);
              break;
            case _t.Right:
              a.left < s.left && t.push(n);
          }
      });
      const l = ((e) => {
        let { collisionRect: t, droppableRects: n, droppableContainers: a } = e;
        const r = nt(t),
          s = [];
        for (const o of a) {
          const { id: e } = o,
            t = n.get(e);
          if (t) {
            const n = nt(t),
              a = r.reduce((e, t, a) => e + Je(n[a], t), 0),
              i = Number((a / 4).toFixed(4));
            s.push({ id: e, data: { droppableContainer: o, value: i } });
          }
        }
        return s.sort(et);
      })({ collisionRect: a, droppableRects: r, droppableContainers: t });
      let c = at(l, "id");
      if (
        (c === (null == o ? void 0 : o.id) && l.length > 1 && (c = l[1].id),
        null != c)
      ) {
        const e = s.get(n.id),
          t = s.get(c),
          o = t ? r.get(t.id) : null,
          l = null == t ? void 0 : t.node.current;
        if (l && o && e && t) {
          const n = gt(l).some((e, t) => i[t] !== e),
            r = ma(e, t),
            s = (function (e, t) {
              if (!ca(e) || !ca(t)) return !1;
              if (!ma(e, t)) return !1;
              return (
                e.data.current.sortable.index < t.data.current.sortable.index
              );
            })(e, t),
            c =
              n || !r
                ? { x: 0, y: 0 }
                : {
                    x: s ? a.width - o.width : 0,
                    y: s ? a.height - o.height : 0,
                  },
            d = { x: o.left, y: o.top };
          return c.x && c.y ? d : Oe(d, c);
        }
      }
    }
  };
function ma(e, t) {
  return (
    !(!ca(e) || !ca(t)) &&
    e.data.current.sortable.containerId === t.data.current.sortable.containerId
  );
}
function ha({
  searchTerm: n,
  onSelect: s,
  onClose: o,
  onCreateNew: i,
  onEditPrompt: l,
  systemCommands: m = [],
  onExecuteSystemCommand: h,
  sessionId: f,
  disableClickOutside: g = !1,
}) {
  const p = e(),
    { analytics: x } = c(),
    [v, b] = r.useState([]),
    [y, w] = r.useState(0),
    [j, C] = r.useState([]),
    [M, N] = r.useState([]),
    k = r.useRef(null),
    S = r.useCallback(
      async (e) => {
        (await $.recordPromptUsage(e.id), s(e));
      },
      [s],
    ),
    E = async () => {
      const e = await $.getAllPrompts();
      b(
        e.sort((e, t) =>
          t.usageCount !== e.usageCount
            ? t.usageCount - e.usageCount
            : t.createdAt - e.createdAt,
        ),
      );
    };
  (r.useEffect(() => {
    E();
  }, []),
    r.useEffect(() => {
      const e = () => {
        E();
      };
      return (
        window.addEventListener("prompts-changed", e),
        () => window.removeEventListener("prompts-changed", e)
      );
    }, []));
  const D = r.useCallback((e, t) => {
    let n = 0,
      a = 0;
    for (; a < e.length && n < t.length; ) (e[a] === t[n] && n++, a++);
    return n === t.length;
  }, []);
  return (
    r.useEffect(() => {
      const e = n.toLowerCase().trim();
      if (e) {
        const t = e.length >= 3,
          n = v.filter((n) => {
            if (n.command) {
              const a = n.command.toLowerCase();
              if (a.includes(e)) return !0;
              if (t && D(a, e)) return !0;
            }
            return !1;
          }),
          a = m.filter((n) => {
            const a = n.command.toLowerCase();
            return !!a.includes(e) || !(!t || !D(a, e));
          });
        (C(n), N(a));
      } else (C(v), N(m));
      w(0);
    }, [n, v, m, D]),
    r.useEffect(() => {
      const e = (e) => {
        const t = M.length + j.length + (i ? 1 : 0);
        if ("ArrowDown" === e.key)
          (e.preventDefault(), w((e) => (e < t - 1 ? e + 1 : e)));
        else if ("ArrowUp" === e.key)
          (e.preventDefault(), w((e) => (e > 0 ? e - 1 : e)));
        else if ("Enter" === e.key) {
          e.preventDefault();
          const t = M.length,
            n = j.length;
          if (y < t) {
            const e = M[y];
            (x?.track("claude_chrome.chat.system_command_executed", {
              sessionId: f || "",
              commandName: e.command,
              commandType: "system",
            }),
              h?.(`/${e.command}`),
              o());
          } else if (y < t + n) {
            const e = j[y - t];
            (x?.track("claude_chrome.chat.system_command_executed", {
              sessionId: f || "",
              commandName: e.command || "untitled",
              commandType: "shortcut",
            }),
              S(e));
          } else i && y === t + n && i();
        } else "Escape" === e.key && (e.preventDefault(), o());
      };
      return (
        document.addEventListener("keydown", e),
        () => document.removeEventListener("keydown", e)
      );
    }, [M, j, y, o, S, i, h, x, f]),
    r.useEffect(() => {
      const e = (e) => {
        k.current && !k.current.contains(e.target) && o();
      };
      if (!g) {
        const t = setTimeout(() => {
          document.addEventListener("mousedown", e);
        }, 0);
        return () => {
          (clearTimeout(t), document.removeEventListener("mousedown", e));
        };
      }
    }, [o, g]),
    0 !== M.length || 0 !== j.length || i
      ? a.jsxs("div", {
          ref: k,
          className:
            "absolute z-dropdown bg-bg-000 border-0.5 border-border-200 rounded-xl backdrop-blur-xl shadow-[0px_2px_8px_0px_hsl(var(--always-black)/8%)] dark:shadow-[0px_2px_8px_0px_hsl(var(--always-black)/24%)] p-1.5 w-full max-h-[300px] overflow-y-auto",
          style: { bottom: "calc(100% + 8px)", left: 0 },
          children: [
            M.map((e, n) =>
              a.jsx(
                "button",
                {
                  onClick: () => {
                    (x?.track("claude_chrome.chat.system_command_executed", {
                      sessionId: f || "",
                      commandName: e.command,
                      commandType: "system",
                    }),
                      h?.(`/${e.command}`),
                      o());
                  },
                  onMouseEnter: () => w(n),
                  className: d(
                    "w-full px-2 py-1.5 text-left rounded-lg transition-colors",
                    "hover:bg-bg-200 hover:text-text-000",
                    y === n && "bg-bg-200 text-text-000",
                  ),
                  children: a.jsxs("div", {
                    className:
                      "font-base text-text-300 flex items-center gap-1.5",
                    children: [
                      a.jsx("div", {
                        className:
                          "w-4 h-4 flex items-center justify-center flex-shrink-0",
                        children: a.jsx("span", {
                          className: "text-text-500/50 font-mono",
                          children: a.jsx(t, {
                            defaultMessage: "/",
                            id: "XIbwNE7SSU",
                          }),
                        }),
                      }),
                      a.jsx("span", { children: e.command }),
                      e.description &&
                        a.jsx("span", {
                          className: "text-text-400 text-xs ml-auto",
                          children: e.description,
                        }),
                    ],
                  }),
                },
                `system-${e.command}`,
              ),
            ),
            M.length > 0 &&
              j.length > 0 &&
              a.jsx("div", {
                className: "my-1.5 border-t-[0.5px] border-border-300",
              }),
            j.map((e, n) => {
              const r = M.length + n;
              return a.jsxs(
                "div",
                {
                  className: d(
                    "group flex items-center px-2 py-1.5 rounded-lg transition-colors",
                    "hover:bg-bg-200",
                    y === r && "bg-bg-200",
                  ),
                  onMouseEnter: () => w(r),
                  children: [
                    a.jsx("button", {
                      onClick: () => {
                        (x?.track(
                          "claude_chrome.chat.system_command_executed",
                          {
                            sessionId: f || "",
                            commandName: e.command || "untitled",
                            commandType: "shortcut",
                          },
                        ),
                          S(e));
                      },
                      className: "flex-1 text-left",
                      children: a.jsxs("div", {
                        className:
                          "font-base text-text-300 flex items-center gap-1.5",
                        children: [
                          a.jsx("div", {
                            className:
                              "w-4 h-4 flex items-center justify-center flex-shrink-0",
                            children: a.jsx("span", {
                              className: "text-text-500/50 font-mono",
                              children: a.jsx(t, {
                                defaultMessage: "/",
                                id: "XIbwNE7SSU",
                              }),
                            }),
                          }),
                          a.jsx("span", {
                            className: d(y === r && "text-text-000"),
                            children:
                              e.command ||
                              a.jsx(t, {
                                defaultMessage: "untitled",
                                id: "zZuYUk2GGf",
                              }),
                          }),
                        ],
                      }),
                    }),
                    l &&
                      a.jsx("button", {
                        onClick: (t) => {
                          (t.stopPropagation(), l(e));
                        },
                        className: d(
                          "p-1 rounded transition-all",
                          "opacity-0 group-hover:opacity-100",
                          "hover:bg-bg-300",
                          y === r && "opacity-100",
                        ),
                        "aria-label": p.formatMessage(
                          { defaultMessage: "Edit {name}", id: "s3IOQQ+nJU" },
                          {
                            name:
                              e.command ||
                              p.formatMessage({
                                defaultMessage: "shortcut",
                                id: "ZByvH8UXog",
                              }),
                          },
                        ),
                        children: a.jsx(u, {
                          size: 12,
                          className: "text-text-400",
                        }),
                      }),
                  ],
                },
                e.id,
              );
            }),
            i &&
              a.jsxs(a.Fragment, {
                children: [
                  (M.length > 0 || j.length > 0) &&
                    a.jsx("div", {
                      className: "my-1.5 border-t-[0.5px] border-border-300",
                    }),
                  a.jsxs("button", {
                    onClick: i,
                    onMouseEnter: () => w(M.length + j.length),
                    className: d(
                      "w-full px-2 py-1.5 text-left rounded-lg transition-colors flex items-center gap-1.5",
                      "hover:bg-bg-200 hover:text-text-000",
                      y === M.length + j.length && "bg-bg-200 text-text-000",
                    ),
                    children: [
                      a.jsx(re, {
                        size: 16,
                        className: "text-text-300 flex-shrink-0",
                      }),
                      a.jsx("span", {
                        className: "font-base text-text-300",
                        children: a.jsx(t, {
                          defaultMessage: "Create new shortcut",
                          id: "w5LAgMj8xn",
                        }),
                      }),
                    ],
                  }),
                ],
              }),
          ],
        })
      : a.jsx("div", {
          ref: k,
          className:
            "absolute z-dropdown bg-bg-000 border-0.5 border-border-200 rounded-xl backdrop-blur-xl shadow-[0px_2px_8px_0px_hsl(var(--always-black)/8%)] dark:shadow-[0px_2px_8px_0px_hsl(var(--always-black)/24%)] p-2 w-full",
          style: { bottom: "calc(100% + 8px)", left: 0 },
          children: a.jsx("div", {
            className: "text-text-300 font-base",
            children: n
              ? a.jsx(t, {
                  defaultMessage: 'No shortcuts found for "/{searchTerm}"',
                  id: "7Zr5grAGuN",
                  values: { searchTerm: n },
                })
              : a.jsx(t, {
                  defaultMessage: "No shortcuts available",
                  id: "ejLVhl2kIU",
                }),
          }),
        })
  );
}
function fa() {
  const e = r.useRef(null),
    t = r.useRef(null);
  return (
    r.useEffect(() => {
      const n = t.current,
        a = e.current;
      if (!n || !a) return;
      const r = n.getContext("2d");
      if (!r) return;
      const s = () => {
        ((n.width = a.clientWidth), (n.height = a.clientHeight));
        r.clearRect(0, 0, n.width, n.height);
        const e = r.createImageData(n.width, n.height),
          t = e.data;
        for (let n = 0; n < t.length; n += 4) {
          if (Math.random() > 0.15) continue;
          const e = 255 * Math.random();
          ((t[n] = e), (t[n + 1] = e), (t[n + 2] = e), (t[n + 3] = 12.75));
        }
        r.putImageData(e, 0, 0);
      };
      return (
        s(),
        window.addEventListener("resize", s),
        () => {
          window.removeEventListener("resize", s);
        }
      );
    }, []),
    a.jsxs("div", {
      className: "gradient-bg",
      children: [
        a.jsx("svg", {
          xmlns: "http://www.w3.org/2000/svg",
          className: "hidden",
          children: a.jsx("defs", {
            children: a.jsxs("filter", {
              id: "goo",
              children: [
                a.jsx("feGaussianBlur", {
                  in: "SourceGraphic",
                  stdDeviation: "10",
                  result: "blur",
                }),
                a.jsx("feColorMatrix", {
                  in: "blur",
                  mode: "matrix",
                  values: "1 0 0 0 0  0 1 0 0 0  0 0 1 0 0  0 0 0 18 -8",
                  result: "goo",
                }),
                a.jsx("feBlend", { in: "SourceGraphic", in2: "goo" }),
              ],
            }),
          }),
        }),
        a.jsxs("div", {
          ref: e,
          className: "gradients-container",
          children: [
            a.jsx("div", { className: "g1" }),
            a.jsx("div", { className: "g2" }),
            a.jsx("div", { className: "g3" }),
            a.jsx("div", { className: "g4" }),
            a.jsx("canvas", {
              ref: t,
              className: "absolute inset-0 w-full h-full pointer-events-none",
            }),
          ],
        }),
      ],
    })
  );
}
function ga({ prompt: n, onClose: s, onSave: o, renderButtons: i }) {
  const l = e(),
    [c, d] = r.useState(n?.command || ""),
    [u, v] = r.useState(n?.prompt || ""),
    [b, y] = r.useState(""),
    [w, j] = r.useState(!1),
    C = !n?.id,
    M = r.useRef(null),
    [N, k] = r.useState(Boolean(n?.repeatType && "none" !== n.repeatType)),
    [S, E] = r.useState(
      n?.repeatType && "none" !== n.repeatType ? n.repeatType : "once",
    ),
    [D, R] = r.useState(n?.specificTime || "09:00"),
    [A, T] = r.useState(n?.dayOfWeek ?? 0),
    [L, O] = r.useState(n?.dayOfMonth || 1),
    [I, _] = r.useState(
      (n?.monthAndDay && parseInt(n.monthAndDay.split("-")[0])) || 1,
    ),
    [z, P] = r.useState(
      (n?.monthAndDay && parseInt(n.monthAndDay.split("-")[1])) || 1,
    ),
    [H, B] = r.useState(() => {
      const e = n?.specificDate;
      if (!e) return "";
      return e >= new Date().toISOString().split("T")[0] ? e : "";
    }),
    [U, F] = r.useState(n?.url || ""),
    V = m(),
    [Z, W] = r.useState(n?.model || V.default || "claude-sonnet-4-5-20250929"),
    Y = [
      l.formatMessage({ defaultMessage: "Sunday", id: "mJR06Pgp0X" }),
      l.formatMessage({ defaultMessage: "Monday", id: "azMsfMtNvt" }),
      l.formatMessage({ defaultMessage: "Tuesday", id: "YAgYL60fLm" }),
      l.formatMessage({ defaultMessage: "Wednesday", id: "lxblglMBAV" }),
      l.formatMessage({ defaultMessage: "Thursday", id: "qAhUUOIWbF" }),
      l.formatMessage({ defaultMessage: "Friday", id: "QrihTZnk0x" }),
      l.formatMessage({ defaultMessage: "Saturday", id: "WMNHPhDie+" }),
    ],
    K = [
      l.formatMessage({ defaultMessage: "January", id: "t8QlFE5KKF" }),
      l.formatMessage({ defaultMessage: "February", id: "0TR0PDvKax" }),
      l.formatMessage({ defaultMessage: "March", id: "T5W0CVKXi6" }),
      l.formatMessage({ defaultMessage: "April", id: "h7xti1PjS7" }),
      l.formatMessage({ defaultMessage: "May", id: "zUpHdfwzIp" }),
      l.formatMessage({ defaultMessage: "June", id: "xBaHKeE0uO" }),
      l.formatMessage({ defaultMessage: "July", id: "NGWumBAsap" }),
      l.formatMessage({ defaultMessage: "August", id: "lINtN6vYsg" }),
      l.formatMessage({ defaultMessage: "September", id: "TFf5u+qBgM" }),
      l.formatMessage({ defaultMessage: "October", id: "EuK7yRq90M" }),
      l.formatMessage({ defaultMessage: "November", id: "pn+jQDsOvh" }),
      l.formatMessage({ defaultMessage: "December", id: "SsiZK7n81x" }),
    ];
  (r.useEffect(() => {
    (setTimeout(() => {
      M.current?.focus();
    }, 100),
      (n && !C) ||
        chrome.tabs.query({ active: !0, currentWindow: !0 }, (e) => {
          if (e[0]?.url)
            try {
              const t = new URL(e[0].url).origin;
              t.startsWith("http") && F(t);
            } catch {}
        }));
  }, [n, C]),
    r.useEffect(() => {
      const e = (e) => {
        if ("Enter" === e.key) {
          const t = document.activeElement;
          "INPUT" === t?.tagName ||
            "TEXTAREA" === t?.tagName ||
            (e.preventDefault(), X());
        }
      };
      return (
        document.addEventListener("keydown", e),
        () => document.removeEventListener("keydown", e)
      );
    }, [c, u]));
  const X = async () => {
    if ((j(!0), c.trim() && u.trim()))
      try {
        if (n && !C) {
          const e = {
            prompt: u.trim(),
            command: c.trim(),
            url: U.trim() || void 0,
          };
          (N
            ? ((e.repeatType = S),
              (e.specificTime = D),
              (e.model = Z),
              "once" === S && (e.specificDate = H),
              "weekly" === S && (e.dayOfWeek = A),
              "monthly" === S && (e.dayOfMonth = L),
              "annually" === S &&
                (e.monthAndDay = `${I.toString().padStart(2, "0")}-${z.toString().padStart(2, "0")}`))
            : ((e.repeatType = void 0),
              (e.specificTime = void 0),
              (e.specificDate = void 0),
              (e.dayOfWeek = void 0),
              (e.dayOfMonth = void 0),
              (e.monthAndDay = void 0),
              (e.model = void 0)),
            await $.updatePrompt(n.id, e));
        } else {
          const e = {
            prompt: u.trim(),
            command: c.trim(),
            url: U.trim() || void 0,
            createdAt: Date.now(),
            usageCount: 0,
          };
          (N &&
            ((e.repeatType = S),
            (e.specificTime = D),
            (e.model = Z),
            "once" === S && (e.specificDate = H),
            "weekly" === S && (e.dayOfWeek = A),
            "monthly" === S && (e.dayOfMonth = L),
            "annually" === S &&
              (e.monthAndDay = `${I.toString().padStart(2, "0")}-${z.toString().padStart(2, "0")}`)),
            await $.savePrompt(e));
        }
        o(!(!n || C));
      } catch (e) {
        y(e instanceof Error ? e.message : "Failed to save");
      }
  };
  return a.jsxs("div", {
    className: "space-y-4 mt-4",
    children: [
      a.jsxs("div", {
        children: [
          a.jsx("span", {
            className: "font-base text-text-200 block mb-1",
            children: a.jsx(t, { defaultMessage: "Name", id: "HAlOn1ZsuY" }),
          }),
          a.jsx(h, {
            ref: M,
            type: "text",
            value: c,
            onChange: (e) => {
              const t = e.target.value
                .replace(/\s/g, "-")
                .replace(/[^a-zA-Z0-9-_]/g, "");
              (d(t), b && y(""));
            },
            prepend: a.jsx("span", {
              className: "text-text-300",
              children: "/",
            }),
            placeholder: l.formatMessage({
              defaultMessage: "task-name",
              id: "zfW5u5DbnY",
            }),
            className: "text-sm",
            error: (w && !c.trim()) || b?.includes("already in use"),
          }),
          ((w && !c.trim()) || b?.includes("already in use")) &&
            a.jsx(f, {
              className: "mt-1",
              children:
                w && !c.trim()
                  ? a.jsx(t, {
                      defaultMessage: "Name is required",
                      id: "Gvxoji2HqE",
                    })
                  : b,
            }),
        ],
      }),
      a.jsxs("div", {
        children: [
          a.jsx("span", {
            className: "font-base text-text-200 block mb-1",
            children: a.jsx(t, { defaultMessage: "Prompt", id: "iWKE8shLIt" }),
          }),
          a.jsx(g, {
            required: !0,
            value: u,
            onChange: (e) => v(e.target.value),
            className: "min-h-32 max-h-64 overflow-y-auto font-large text-sm",
            placeholder: l.formatMessage({
              defaultMessage: "Enter your prompt text...",
              id: "xvBEtpDq86",
            }),
            error:
              w && !u.trim()
                ? l.formatMessage({
                    defaultMessage: "Prompt is required",
                    id: "E8uSl+czLg",
                  })
                : void 0,
          }),
        ],
      }),
      a.jsx(p, {
        scheduleEnabled: N,
        setScheduleEnabled: k,
        repeatType: S,
        setRepeatType: E,
        specificDate: H,
        setSpecificDate: B,
        dayOfWeek: A,
        setDayOfWeek: T,
        dayOfMonth: L,
        setDayOfMonth: O,
        month: I,
        setMonth: _,
        day: z,
        setDay: P,
        specificTime: D,
        setSpecificTime: R,
        monthLabels: K,
        daysOfWeekLabels: Y,
        url: U,
        setUrl: F,
        compact: !1,
        model: Z,
        setModel: W,
        modelConfig: V,
      }),
      b &&
        !b.includes("already in use") &&
        a.jsx("div", { className: "text-danger-000 text-sm", children: b }),
      i
        ? i(X, C)
        : a.jsxs("div", {
            className: "flex items-center justify-end gap-2 pt-4",
            children: [
              a.jsx(x, {
                onClick: s,
                variant: "secondary",
                children: a.jsx(t, {
                  defaultMessage: "Cancel",
                  id: "47FYwba+bI",
                }),
              }),
              a.jsx(x, {
                onClick: X,
                children:
                  n && !C
                    ? a.jsx(t, {
                        defaultMessage: "Save changes",
                        id: "X0ha1a+WYV",
                      })
                    : a.jsx(t, {
                        defaultMessage: "Create shortcut",
                        id: "AzO4h7b149",
                      }),
              }),
            ],
          }),
    ],
  });
}
function pa({ isOpen: n, onClose: s, initialTab: o }) {
  const [i, l] = r.useState(!1),
    [c, d] = r.useState(null),
    { showToast: u } = ie(),
    m = e(),
    h = i ? "form" : "list",
    f = () => {
      (l(!1), d(null));
    };
  return a.jsxs(a.Fragment, {
    children: [
      a.jsx(se, {}),
      a.jsx(v, {
        isOpen: n,
        onClose: "form" === h ? f : s,
        modalSize: "2xl",
        autoCloseOnFocusOut: "list" === h,
        closeOnEscapeKeydown: !0,
        overlayClassName:
          "[background-color:hsl(var(--always-black)/0.5)!important]",
        title: a.jsxs("div", {
          className: "flex items-center gap-2",
          children: [
            "form" === h &&
              a.jsx(x, {
                onClick: f,
                variant: "ghost",
                size: "icon_sm",
                "aria-label": m.formatMessage({
                  defaultMessage: "Back",
                  id: "cyR7KhiuaU",
                }),
                children: a.jsx(le, { size: 20 }),
              }),
            a.jsx("span", {
              children:
                "form" === h
                  ? c?.id
                    ? a.jsx(t, {
                        defaultMessage: "Edit shortcut",
                        id: "R592aOW18A",
                      })
                    : a.jsx(t, {
                        defaultMessage: "Create shortcut",
                        id: "AzO4h7b149",
                      })
                  : a.jsx(t, { defaultMessage: "Shortcuts", id: "7FAwwkYilD" }),
            }),
          ],
        }),
        hasCloseButton: !0,
        prependBeforeCloseButton:
          "list" === h
            ? a.jsx(x, {
                onClick: () => {
                  (d(null), l(!0));
                },
                variant: "ghost",
                size: "icon_sm",
                "aria-label": m.formatMessage({
                  defaultMessage: "Add shortcut",
                  id: "LkvG7lWavW",
                }),
                children: a.jsx(R, { size: 20 }),
              })
            : void 0,
        children:
          "list" === h
            ? a.jsx(oe, {
                showAddForm: i,
                setShowAddForm: l,
                editingPrompt: c,
                setEditingPrompt: d,
                isInModal: !0,
                initialTab: o,
              })
            : a.jsx(ga, {
                prompt: c,
                onClose: f,
                onSave: async (e) => {
                  (l(!1),
                    d(null),
                    u(
                      e
                        ? m.formatMessage({
                            defaultMessage: "Shortcut updated",
                            id: "IV5WU06zbs",
                          })
                        : m.formatMessage({
                            defaultMessage: "Shortcut added",
                            id: "wn15NDyLWm",
                          }),
                    ));
                },
              }),
      }),
    ],
  });
}
const xa =
  "data:image/svg+xml,%3csvg%20width='139'%20height='53'%20viewBox='0%200%20139%2053'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_1100_7846)'%3e%3cmask%20id='path-1-outside-1_1100_7846'%20maskUnits='userSpaceOnUse'%20x='-0.498535'%20y='-0.498535'%20width='140'%20height='53'%20fill='black'%3e%3crect%20fill='white'%20x='-0.498535'%20y='-0.498535'%20width='140'%20height='53'/%3e%3cpath%20d='M0.501465%209.39433C0.501465%204.48294%204.48294%200.501465%209.39433%200.501465H129.297C134.209%200.501465%20138.19%204.48294%20138.19%209.39433V52.0801H0.501465V9.39433Z'/%3e%3c/mask%3e%3cpath%20d='M138.846%2040.7986V29.0872C138.846%2026.1403%20136.457%2023.7515%20133.51%2023.7515H92.5015M-0.154236%2040.7986V29.0872C-0.154236%2026.1403%202.23465%2023.7515%205.18148%2023.7515H63.0015'%20stroke='%231F1E1D'%20stroke-opacity='0.15'%20stroke-width='0.444643'/%3e%3cpath%20d='M32.6287%2023.542H62.7335C65.0376%2023.542%2067.0893%2021.1382%2067.0893%2018.7471C67.0893%2016.356%2067.0893%207.75243%2067.0893%207.75243C67.0893%205.65655%2068.944%203.4519%2070.9337%203.4519H82.8465C84.8363%203.4519%2086.4493%205.09106%2086.4493%207.75243C86.4493%207.75243%2086.4493%2016.8496%2086.4493%2018.7471C86.4493%2020.6446%2088.1981%2023.542%2091.0781%2023.542C93.9582%2023.542%20106.429%2023.542%20106.429%2023.542'%20stroke='%23B7B7B7'%20stroke-width='0.889286'%20stroke-linecap='round'/%3e%3cg%20opacity='0.2'%3e%3crect%20x='32.8458'%20y='7.50146'%20width='27'%20height='11'%20rx='3.25279'%20fill='%2373726C'/%3e%3c/g%3e%3cg%20opacity='0.5'%3e%3ccircle%20cx='9.61627'%20cy='12.5668'%20r='1.90259'%20fill='%23979797'/%3e%3ccircle%20cx='15.7046'%20cy='12.5668'%20r='1.90259'%20fill='%23979797'/%3e%3ccircle%20cx='21.7929'%20cy='12.5668'%20r='1.90259'%20fill='%23979797'/%3e%3c/g%3e%3c/g%3e%3cpath%20d='M2.18153e-05%209.39433C2.18153e-05%204.206%204.206%202.18153e-05%209.39433%202.18153e-05H129.297C134.486%202.18153e-05%20138.692%204.206%20138.692%209.39433L137.689%209.39433C137.689%204.75988%20133.932%201.00291%20129.297%201.00291H9.39433C4.75988%201.00291%201.00291%204.75988%201.00291%209.39433L2.18153e-05%209.39433ZM138.19%2052.0801H0.501465H138.19ZM2.18153e-05%2052.0801V9.39433C2.18153e-05%204.206%204.206%202.18153e-05%209.39433%202.18153e-05L9.39433%201.00291C4.75988%201.00291%201.00291%204.75988%201.00291%209.39433V52.0801H2.18153e-05ZM129.297%202.18153e-05C134.486%202.18153e-05%20138.692%204.206%20138.692%209.39433V52.0801H137.689V9.39433C137.689%204.75988%20133.932%201.00291%20129.297%201.00291L129.297%202.18153e-05Z'%20fill='url(%23paint0_linear_1100_7846)'%20fill-opacity='0.15'%20mask='url(%23path-1-outside-1_1100_7846)'/%3e%3cdefs%3e%3clinearGradient%20id='paint0_linear_1100_7846'%20x1='69.3458'%20y1='0.501465'%20x2='69.3458'%20y2='52.0801'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20offset='0.605769'%20stop-color='%231F1E1D'/%3e%3cstop%20offset='1'%20stop-color='%231F1E1D'%20stop-opacity='0'/%3e%3c/linearGradient%3e%3cclipPath%20id='clip0_1100_7846'%3e%3cpath%20d='M0.501465%209.39433C0.501465%204.48294%204.48294%200.501465%209.39433%200.501465H129.297C134.209%200.501465%20138.19%204.48294%20138.19%209.39433V52.0801H0.501465V9.39433Z'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";
function va(e) {
  const t = e.sort().join("|");
  let n = 0;
  for (let a = 0; a < t.length; a++) {
    ((n = (n << 5) - n + t.charCodeAt(a)), (n &= n));
  }
  return n.toString(36);
}
async function ba(e, t) {
  const n = va(t),
    a = `daily_summary_${e}`;
  try {
    const e = (await chrome.storage.local.get(a))[a];
    if (e && e.titlesHash === n) return e.summary;
  } catch (r) {}
  return null;
}
async function ya(e, t, n) {
  const a = `daily_summary_${e}`,
    r = { summary: n, titlesHash: va(t), timestamp: Date.now() };
  try {
    await chrome.storage.local.set({ [a]: r });
  } catch (s) {}
}
const wa = r.memo(function () {
    const { data: e } = b(),
      n = e?.organization?.uuid,
      s = !!e,
      {
        dailySummaries: o,
        isLoading: i,
        error: l,
      } = (function (e, t = 5) {
        const [n, a] = r.useState([]),
          [s, o] = r.useState(!1),
          [i, l] = r.useState(null),
          c = r.useCallback(async () => {
            if (e) {
              l(null);
              try {
                const e = (
                  await A({
                    platforms: ["CLAUDE_BROWSER_EXTENSION"],
                    limit: 50,
                  })
                ).filter((e) => !e.name?.startsWith(T));
                if (0 === e.length) return (a([]), void o(!1));
                const n = new Map();
                e.forEach((e) => {
                  const t = new Date(e.created_at),
                    a = `${t.getFullYear()}-${String(t.getMonth() + 1).padStart(2, "0")}-${String(t.getDate()).padStart(2, "0")}`;
                  (n.has(a) || n.set(a, []), n.get(a).push(e));
                });
                const r = Array.from(n.keys()).sort().reverse().slice(0, t),
                  s = [],
                  i = [];
                for (const t of r) {
                  const e = n.get(t),
                    a = e
                      .map(
                        (e) => e.summary || e.name || "Untitled conversation",
                      )
                      .filter((e) => e && e.trim().length > 0);
                  if (0 === a.length) continue;
                  const r = await ba(t, a);
                  r
                    ? s.push({
                        date: t,
                        summary: r,
                        conversationCount: e.length,
                      })
                    : i.push({
                        date: t,
                        titles: a,
                        conversationCount: e.length,
                      });
                }
                if ((s.length > 0 && a(s), 0 === i.length)) return void o(!1);
                o(!0);
                const l = await q();
                if (!l) throw new Error("No auth token available");
                const c = G(),
                  d = new D({
                    baseURL: c.apiBaseUrl,
                    authToken: l,
                    dangerouslyAllowBrowser: !0,
                  }),
                  u = async (e) => {
                    const { modelClass: t, maxTokens: n, ...a } = e,
                      r =
                        "small_fast" === t
                          ? "claude-haiku-4-5-20251001"
                          : "claude-3-5-sonnet-20241022";
                    return await d.beta.messages.create({
                      ...a,
                      model: r,
                      max_tokens: n,
                      betas: ["oauth-2025-04-20"],
                    });
                  },
                  m = i.map(
                    async ({ date: e, titles: t, conversationCount: n }) => {
                      try {
                        const a = await L(t, u);
                        if (a)
                          return (
                            await ya(e, t, a),
                            { date: e, summary: a, conversationCount: n }
                          );
                        {
                          const a = t.join(", ");
                          return (
                            await ya(e, t, a),
                            { date: e, summary: a, conversationCount: n }
                          );
                        }
                      } catch (a) {
                        let r;
                        if (1 === t.length) r = t[0];
                        else if (2 === t.length)
                          r = `${t[0]}, then ${t[1].toLowerCase()}`;
                        else {
                          const e = t.map((e, t) =>
                            0 === t ? e : e.toLowerCase(),
                          );
                          r = `${e.slice(0, -1).join(", ")}, and ${e[e.length - 1]}`;
                        }
                        return (
                          await ya(e, t, r),
                          { date: e, summary: r, conversationCount: n }
                        );
                      }
                    },
                  ),
                  h = await Promise.all(m),
                  f = [...s, ...h];
                (f.sort((e, t) => t.date.localeCompare(e.date)), a(f), o(!1));
              } catch (n) {
                (l(
                  n instanceof Error
                    ? n.message
                    : "Failed to fetch conversations",
                ),
                  o(!1));
              }
            }
          }, [e, t]);
        return (
          r.useEffect(() => {
            c();
          }, [c]),
          { dailySummaries: n, isLoading: s, error: i, refresh: c }
        );
      })(n, 30),
      [c, d] = r.useState(0),
      u = r.useMemo(() => {
        const e = new Date();
        e.setDate(e.getDate() - c);
        return `${e.getFullYear()}-${String(e.getMonth() + 1).padStart(2, "0")}-${String(e.getDate()).padStart(2, "0")}`;
      }, [c]),
      m = o.find((e) => e.date === u),
      h = (function (e) {
        const [t, n, a] = e.split("-").map(Number),
          r = new Date(t, n - 1, a),
          s = new Date(),
          o = new Date(s);
        o.setDate(o.getDate() - 1);
        const i = new Date(r.toDateString()),
          l = new Date(s.toDateString()),
          c = new Date(o.toDateString()),
          d = r.getDate().toString(),
          u = r.toLocaleDateString("en-US", { month: "long" }),
          m = r.toLocaleDateString("en-US", { weekday: "long" });
        let h;
        return (
          (h =
            i.getTime() === l.getTime()
              ? `Today, ${m} in Claude's log`
              : i.getTime() === c.getTime()
                ? `Yesterday, ${m} in Claude's log`
                : `${m} in Claude's log`),
          { dayNumber: d, month: u, dayLabel: h }
        );
      })(u);
    return a.jsxs("div", {
      className:
        "flex flex-col rounded-2xl backdrop-blur-sm border-[0.5px] border-border-200 shadow-sm shadow-black/[0.04] h-full px-4 pt-4",
      style: {
        background:
          "linear-gradient(180deg, hsl(var(--bg-000) / 0.16) 0%, hsl(var(--bg-000) / 0.08) 100%), hsl(var(--bg-000) / 0.7)",
      },
      children: [
        a.jsxs("div", {
          className: "flex items-start gap-3 mb-4",
          children: [
            a.jsx("div", {
              className: "flex flex-col",
              children: a.jsx("div", {
                className: "text-text-000 font-medium text-[32px] leading-none",
                children: h.dayNumber,
              }),
            }),
            a.jsxs("div", {
              className: "flex flex-col justify-center flex-1",
              children: [
                a.jsx("div", {
                  className: "text-text-000 font-small",
                  children: h.month,
                }),
                a.jsx("div", {
                  className: "text-text-500 font-small",
                  children: h.dayLabel,
                }),
              ],
            }),
            a.jsxs("div", {
              className: "flex items-center gap-1",
              children: [
                a.jsx("button", {
                  onClick: () => {
                    d(c + 1);
                  },
                  className: "p-1 hover:bg-bg-500/50 rounded transition-colors",
                  children: a.jsx(y, { size: 16, className: "text-text-500" }),
                }),
                a.jsx("button", {
                  onClick: () => {
                    c > 0 && d(c - 1);
                  },
                  disabled: 0 === c,
                  className:
                    "p-1 hover:bg-bg-500/50 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",
                  children: a.jsx(w, { size: 16, className: "text-text-500" }),
                }),
              ],
            }),
          ],
        }),
        a.jsx("div", {
          className: "flex-1 overflow-y-auto",
          children: s
            ? i
              ? a.jsx("div", {
                  className: "text-text-300 font-small",
                  children: a.jsx(t, {
                    defaultMessage: "Loading...",
                    id: "gjBiyjshwX",
                  }),
                })
              : l
                ? a.jsx("div", {
                    className: "text-text-300 font-small",
                    children: a.jsx(t, {
                      defaultMessage: "Error: {error}",
                      id: "29gmtdw6e5",
                      values: { error: l },
                    }),
                  })
                : m && m.summary.trim()
                  ? a.jsx("div", {
                      className: "text-text-100 font-base text-sm",
                      children: m.summary,
                    })
                  : a.jsx("div", {
                      className: "text-text-500 font-base text-sm",
                      children:
                        0 === c
                          ? a.jsx(t, {
                              defaultMessage: "I did nothing today yet",
                              id: "HEgmPRO+5B",
                            })
                          : a.jsx(t, {
                              defaultMessage: "I did nothing today",
                              id: "cIbPxRbF3Y",
                            }),
                    })
            : a.jsx("div", {
                className: "flex items-start justify-center pt-4",
                children: a.jsx(x, {
                  onClick: () => chrome.runtime.openOptionsPage(),
                  variant: "secondary",
                  size: "sm",
                  children: a.jsx(t, {
                    defaultMessage: "Sign in",
                    id: "SQJto27U8S",
                  }),
                }),
              }),
        }),
      ],
    });
  }),
  ja = r.memo(function ({
    userShortcuts: n,
    scheduledTasksCount: r,
    onShortcutsModalOpen: s,
    analytics: o,
  }) {
    const i = e(),
      { data: l } = b(),
      c = !!l;
    return a.jsxs("div", {
      className:
        "flex flex-col rounded-2xl backdrop-blur-sm border-[0.5px] border-border-200 shadow-sm shadow-black/[0.04] h-full relative overflow-hidden",
      style: {
        background:
          "linear-gradient(180deg, hsl(var(--bg-000) / 0.16) 0%, hsl(var(--bg-000) / 0.08) 100%), hsl(var(--bg-000) / 0.7)",
      },
      children: [
        a.jsx("div", {
          className: "px-4 pt-4 pb-2 shrink-0",
          children: a.jsx("div", {
            className: "text-text-500 font-small",
            children: a.jsx(t, {
              defaultMessage: "Saved tasks",
              id: "NltzMwsCKS",
            }),
          }),
        }),
        a.jsx("div", {
          className: "absolute top-3 right-3 z-10",
          children: a.jsx(j, {
            tooltipContent: i.formatMessage(
              { defaultMessage: "{count} scheduled", id: "KLmcsO5yco" },
              { count: r },
            ),
            side: "bottom",
            children: a.jsxs(x, {
              onClick: () => s("my-shortcuts"),
              variant: "ghost",
              size: "icon_sm",
              className: "!h-6 !px-1.5 !gap-1 group/button",
              children: [
                a.jsx("span", {
                  className:
                    "font-small font-normal text-text-500 group-hover/button:text-text-000",
                  children: r,
                }),
                a.jsx(C, {
                  size: 12,
                  className: "text-text-500 group-hover/button:text-text-000",
                }),
              ],
            }),
          }),
        }),
        a.jsx("div", {
          className: "flex-1 flex flex-col overflow-y-auto px-4 pb-4",
          children: c
            ? n.length > 0
              ? n.slice(0, 4).map((e) =>
                  a.jsx(
                    "button",
                    {
                      onClick: async () => {
                        const t = await $.getPromptByCommand(e.command);
                        if (t) {
                          o?.track(
                            "claude_chrome.chat.system_command_executed",
                            {
                              sessionId: "",
                              commandName: e.command,
                              commandType: "shortcut",
                            },
                          );
                          const [n] = await chrome.tabs.query({
                            active: !0,
                            currentWindow: !0,
                          });
                          await chrome.runtime.sendMessage({
                            type: "open_side_panel",
                            prompt: t.prompt,
                            tabId: n?.id,
                          });
                        }
                      },
                      className:
                        "group/item text-text-100 font-base hover:text-text-000 hover:bg-bg-200 transition-colors text-left px-2 py-1.5 rounded-lg cursor-pointer -ml-2 -mr-2 overflow-hidden relative shrink-0",
                      children: a.jsxs("div", {
                        className:
                          "relative overflow-hidden whitespace-nowrap [mask-image:linear-gradient(to_right,black_calc(100%-2rem),transparent)] [-webkit-mask-image:linear-gradient(to_right,black_calc(100%-2rem),transparent)]",
                        children: [
                          a.jsx("span", {
                            className: "text-text-500 opacity-40 mr-0.5",
                            "aria-hidden": "true",
                            children: "/",
                          }),
                          e.command,
                        ],
                      }),
                    },
                    e.command,
                  ),
                )
              : a.jsx("div", {
                  className: "flex-1 flex items-center justify-center",
                  children: a.jsx("button", {
                    onClick: () => s("browse"),
                    className:
                      "text-text-300 font-small text-center hover:opacity-80 transition-opacity",
                    children: a.jsx(t, {
                      defaultMessage: "No tasks yet",
                      id: "ZXH44sMrF0",
                    }),
                  }),
                })
            : a.jsx("div", {
                className: "flex-1 flex items-center justify-center",
                children: a.jsx(x, {
                  onClick: () => chrome.runtime.openOptionsPage(),
                  variant: "secondary",
                  size: "sm",
                  children: a.jsx(t, {
                    defaultMessage: "Sign in",
                    id: "SQJto27U8S",
                  }),
                }),
              }),
        }),
      ],
    });
  }),
  Ca = r.memo(function ({
    noteRef: t,
    noteValue: n,
    onNoteChange: s,
    onGenerateQuote: o,
  }) {
    const i = e(),
      [l, c] = r.useState(!1);
    return a.jsxs("div", {
      className:
        "relative flex flex-col justify-between items-start p-4 rounded-2xl text-left transition-all bg-[#FFF4D6]/80 dark:bg-[#633806]/80 backdrop-blur-sm border-[0.5px] border-border-200 shadow-sm shadow-black/[0.04] focus-within:border-[#E8D49E] h-full",
      children: [
        a.jsx("textarea", {
          ref: t,
          value: n,
          onChange: (e) => s(e.target.value),
          placeholder: i.formatMessage({
            defaultMessage: "New note...",
            id: "i+imRH5ndN",
          }),
          className:
            "w-full h-full bg-transparent border-none outline-none text-[#301901] dark:text-white placeholder-[#301901]/70 dark:placeholder-white/70 text-sm resize-none hide-focus-ring pb-8",
        }),
        a.jsx(j, {
          tooltipContent: i.formatMessage({
            defaultMessage: "Get a quote instead",
            id: "ARbpHolQpg",
          }),
          side: "top",
          children: a.jsx("button", {
            onClick: async () => {
              c(!0);
              try {
                await o();
              } finally {
                c(!1);
              }
            },
            disabled: l,
            className:
              "absolute bottom-2 right-2 p-1 rounded transition-colors disabled:opacity-30 hover:bg-bg-500/50",
            children: a.jsx(ge, {
              size: 16,
              weight: "regular",
              className: "text-text-500",
            }),
          }),
        }),
      ],
    });
  });
function Ma({ isOpen: n, onClose: s, onAdd: o }) {
  const [i, l] = r.useState(""),
    [c, d] = r.useState(""),
    [u, m] = r.useState(""),
    h = e(),
    f = (e) => {
      if (!e.trim())
        return (
          m(
            h.formatMessage({
              defaultMessage: "URL is required",
              id: "26Cn0oifmR",
            }),
          ),
          !1
        );
      try {
        return new URL(
          e.startsWith("http") ? e : `https://${e}`,
        ).protocol.startsWith("http")
          ? (m(""), !0)
          : (m(
              h.formatMessage({
                defaultMessage: "URL must use http or https",
                id: "PJRWsHQ+YN",
              }),
            ),
            !1);
      } catch {
        return (
          m(
            h.formatMessage({
              defaultMessage: "Please enter a valid URL",
              id: "ajU+HTjQNK",
            }),
          ),
          !1
        );
      }
    },
    g = () => {
      (l(""), d(""), m(""), s());
    };
  return a.jsxs(v, {
    isOpen: n,
    onClose: g,
    modalSize: "md",
    title: h.formatMessage({ defaultMessage: "Add link", id: "JnxkKMhrqm" }),
    hasCloseButton: !0,
    overlayClassName:
      "[background-color:hsl(var(--always-black)/0.5)!important]",
    children: [
      a.jsxs("div", {
        className: "space-y-4 mt-4",
        children: [
          a.jsxs("div", {
            children: [
              a.jsx("label", {
                className: "block font-base text-text-200 mb-1",
                children: a.jsx(t, {
                  defaultMessage: "Name",
                  id: "HAlOn1ZsuY",
                }),
              }),
              a.jsx("input", {
                type: "text",
                value: i,
                onChange: (e) => l(e.target.value),
                placeholder: "",
                className:
                  "w-full px-4 py-3 bg-bg-200 border border-border-200 rounded-xl text-text-100 placeholder-text-300 focus:outline-none focus:border-border-100 font-large",
              }),
            ],
          }),
          a.jsxs("div", {
            children: [
              a.jsx("label", {
                className: "block font-base text-text-200 mb-1",
                children: a.jsx(t, { defaultMessage: "URL", id: "bWjdfaXOzU" }),
              }),
              a.jsx("input", {
                type: "text",
                value: c,
                onChange: (e) => {
                  (d(e.target.value), u && m(""));
                },
                onBlur: () => c && f(c),
                placeholder: "",
                className:
                  "w-full px-4 py-3 bg-bg-200 border border-border-200 rounded-xl text-text-100 placeholder-text-300 focus:outline-none focus:border-border-100 font-large",
              }),
              u &&
                a.jsx("p", {
                  className: "text-danger-200 text-xs mt-1",
                  children: u,
                }),
            ],
          }),
        ],
      }),
      a.jsxs(M, {
        children: [
          a.jsx(N, {
            onClick: g,
            variant: "secondary",
            children: a.jsx(t, { defaultMessage: "Cancel", id: "47FYwba+bI" }),
          }),
          a.jsx(N, {
            onClick: () => {
              if (!i.trim()) return;
              const e = c.startsWith("http") ? c : `https://${c}`;
              f(e) && (o(i, e), l(""), d(""), m(""), s());
            },
            variant: "primary",
            disabled: !i.trim() || !c.trim() || !!u,
            children: a.jsx(t, { defaultMessage: "Done", id: "JXdbo8Vnlw" }),
          }),
        ],
      }),
    ],
  });
}
const Na = [
    {
      id: "default-gmail",
      name: "Gmail",
      url: "https://gmail.com",
      isDefault: !0,
    },
    {
      id: "default-news",
      name: "News",
      url: "https://www.anthropic.com/news",
      isDefault: !0,
    },
  ],
  ka = r.memo(function () {
    const [e, n] = r.useState(!1),
      [s, o] = r.useState([]);
    r.useEffect(() => {
      (async () => {
        let e = await J(Q.CUSTOM_APP_LINKS);
        if (!e) {
          const t = await chrome.storage.local.get("customAppShortcuts");
          if (t.customAppShortcuts) {
            ((e = t.customAppShortcuts.map((e, t) => ({
              ...e,
              id: e.id || `custom-${Date.now()}-${t}`,
            }))),
              await ee(Q.CUSTOM_APP_LINKS, e),
              await chrome.storage.local.remove("customAppShortcuts"));
          }
        }
        ((e && 0 !== e.length) || ((e = Na), await ee(Q.CUSTOM_APP_LINKS, e)),
          o(e));
      })();
    }, []);
    const i = s
      .map((e) => {
        if ("default-gmail" === e.id)
          return {
            ...e,
            icon: "data:image/svg+xml,%3csvg%20width='31'%20height='24'%20viewBox='0%200%2031%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cmask%20id='mask0_1454_24130'%20style='mask-type:luminance'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='31'%20height='24'%3e%3cpath%20d='M30.7202%200H0V23.0401H30.7202V0Z'%20fill='white'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_1454_24130)'%3e%3cpath%20d='M2.09455%2023.0404H6.98186V11.1712L0%205.93481V20.9458C0%2022.1048%200.939064%2023.0404%202.09455%2023.0404Z'%20fill='%234285F4'/%3e%3cpath%20d='M23.7383%2023.0404H28.6255C29.7845%2023.0404%2030.7201%2022.1013%2030.7201%2020.9458V5.93481L23.7383%2011.1712'%20fill='%2334A853'/%3e%3cpath%20d='M23.7383%202.09465V11.1711L30.7201%205.93467V3.14192C30.7201%200.551644%2027.7633%20-0.925007%2025.6931%200.628444'%20fill='%23FBBC04'/%3e%3cpath%20d='M6.98169%2011.1712V2.09473L15.3599%208.3784L23.7382%202.09473V11.1712L15.3599%2017.4548'%20fill='%23EA4335'/%3e%3cpath%20d='M0%203.14192V5.93467L6.98186%2011.1711V2.09465L5.02693%200.628444C2.95332%20-0.925007%200%200.551644%200%203.14192Z'%20fill='%23C5221F'/%3e%3c/g%3e%3c/svg%3e",
          };
        try {
          const t = new URL(e.url).hostname;
          return {
            ...e,
            icon: `https://www.google.com/s2/favicons?domain=${t}&sz=128`,
          };
        } catch (t) {
          return null;
        }
      })
      .filter((e) => null !== e)
      .slice(0, 4);
    return a.jsxs(a.Fragment, {
      children: [
        a.jsx("div", {
          className:
            "flex flex-col justify-center items-center p-4 rounded-2xl backdrop-blur-sm border-[0.5px] border-border-200 shadow-sm shadow-black/[0.04] h-full",
          style: {
            background:
              "linear-gradient(180deg, hsl(var(--bg-000) / 0.16) 0%, hsl(var(--bg-000) / 0.08) 100%), hsl(var(--bg-000) / 0.7)",
          },
          children: a.jsxs("div", {
            className: "flex items-center justify-center gap-6 w-full",
            children: [
              i.map((e) =>
                a.jsxs(
                  "div",
                  {
                    className: "relative group",
                    children: [
                      a.jsxs("a", {
                        href: e.url,
                        target: "_blank",
                        rel: "noopener noreferrer",
                        className:
                          "flex flex-col items-center gap-2 group/link",
                        children: [
                          a.jsx("div", {
                            className:
                              "w-12 h-12 rounded-full bg-bg-000 border-[0.5px] border-border-200 shadow-sm shadow-black/[0.04] flex items-center justify-center overflow-hidden group-hover/link:border-border-100 group-hover/link:scale-105 transition-all",
                            children: a.jsx("img", {
                              src: e.icon,
                              alt: e.name,
                              className: "w-6 h-6",
                            }),
                          }),
                          a.jsx("span", {
                            className: "text-text-200 font-small",
                            children: e.name,
                          }),
                        ],
                      }),
                      a.jsx("button", {
                        onClick: (t) => {
                          (t.preventDefault(),
                            (async (e) => {
                              const t = s.filter((t) => t.id !== e);
                              (o(t), await ee(Q.CUSTOM_APP_LINKS, t));
                            })(e.id));
                        },
                        className:
                          "absolute -top-1 -right-1 w-5 h-5 rounded-full bg-bg-000/70 backdrop-blur-sm border-[0.5px] border-border-200 flex items-center justify-center opacity-0 scale-75 group-hover:opacity-100 group-hover:scale-100 transition-all [transition-delay:0ms] group-hover:[transition-delay:300ms] hover:bg-bg-000/90",
                        children: a.jsx(ce, {
                          className: "text-text-300",
                          size: 12,
                        }),
                      }),
                    ],
                  },
                  e.id,
                ),
              ),
              i.length < 4 &&
                a.jsxs("button", {
                  onClick: () => n(!0),
                  className: "flex flex-col items-center gap-2 group/add",
                  children: [
                    a.jsx("div", {
                      className:
                        "w-12 h-12 rounded-full bg-bg-000/40 border-[0.5px] border-border-300 group-hover/add:border-border-100 flex items-center justify-center transition-colors",
                      children: a.jsx(R, {
                        size: 20,
                        className: "text-text-300",
                      }),
                    }),
                    a.jsx("span", {
                      className: "text-text-200 font-small",
                      children: a.jsx(t, {
                        defaultMessage: "Add",
                        id: "2/2yg+qAwp",
                      }),
                    }),
                  ],
                }),
            ],
          }),
        }),
        a.jsx(Ma, {
          isOpen: e,
          onClose: () => n(!1),
          onAdd: async (e, t) => {
            const n = {
                id: `custom-${Date.now()}`,
                name: e,
                url: t,
                isDefault: !1,
              },
              a = [...s, n];
            (o(a), await ee(Q.CUSTOM_APP_LINKS, a));
          },
        }),
      ],
    });
  }),
  Sa = r.memo(function ({ tipTitle: e, onTipClick: n }) {
    return a.jsxs("div", {
      onClick: n,
      className:
        "flex flex-col justify-start p-4 rounded-2xl text-left transition-all backdrop-blur-sm border-[0.5px] border-border-200 shadow-sm shadow-black/[0.04] hover:border-border-200 cursor-pointer h-full",
      style: {
        background:
          "linear-gradient(180deg, hsl(var(--bg-000) / 0.16) 0%, hsl(var(--bg-000) / 0.08) 100%), hsl(var(--bg-000) / 0.7)",
      },
      children: [
        a.jsx("div", {
          className: "text-text-500 font-small mb-3",
          children: a.jsx(t, { defaultMessage: "Learn", id: "IbrSk1x1M4" }),
        }),
        a.jsx("div", {
          className: "text-text-100 font-base mb-2",
          children: e,
        }),
        a.jsx("img", { src: xa, alt: "", className: "mt-auto w-full" }),
      ],
    });
  });
function Ea(e) {
  const t = new Date(e),
    n = new Date().getTime() - t.getTime(),
    a = Math.floor(n / 6e4),
    r = Math.floor(n / 36e5),
    s = Math.floor(n / 864e5);
  return a < 1
    ? "Just now"
    : a < 60
      ? `${a}m ago`
      : r < 24
        ? `${r}h ago`
        : s < 7
          ? `${s}d ago`
          : t.toLocaleDateString("en-US", { month: "short", day: "numeric" });
}
const Da = r.memo(function () {
    const n = e(),
      { data: s, isLoading: o } = b(),
      i = s?.organization?.uuid,
      l = !!s,
      [c, d] = r.useState([]),
      [u, m] = r.useState(!0),
      [h, f] = r.useState(null),
      [g, p] = r.useState(!0);
    (r.useEffect(() => {
      const e = setTimeout(() => {
        p(!1);
      }, 300);
      return () => clearTimeout(e);
    }, []),
      r.useEffect(() => {
        (async () => {
          if (i)
            try {
              m(!0);
              const e = (
                await A({ platforms: ["CLAUDE_BROWSER_EXTENSION"] })
              ).filter((e) => !e.name?.startsWith(T));
              (d(e), f(null));
            } catch (e) {
              f("Failed to load chats");
            } finally {
              m(!1);
            }
          else m(!1);
        })();
      }, [i]));
    return a.jsxs("div", {
      className:
        "flex flex-col rounded-2xl backdrop-blur-sm border-[0.5px] border-border-200 shadow-sm shadow-black/[0.04] h-full overflow-hidden",
      style: {
        background:
          "linear-gradient(180deg, hsl(var(--bg-000) / 0.16) 0%, hsl(var(--bg-000) / 0.08) 100%), hsl(var(--bg-000) / 0.7)",
      },
      children: [
        a.jsx("div", {
          className: "px-4 pt-4 pb-2 shrink-0",
          children: a.jsx("div", {
            className: "text-text-500 font-small",
            children: a.jsx(t, {
              defaultMessage: "Recent chats",
              id: "Cd4uvaQFKD",
            }),
          }),
        }),
        a.jsx("div", {
          className: "flex-1 overflow-y-auto px-4 pb-4",
          children:
            g || o || u
              ? a.jsxs("div", {
                  className: "px-2 py-2 -ml-2 -mr-2",
                  children: [
                    a.jsx("div", {
                      className:
                        "relative h-4 bg-bg-400 rounded mb-2 w-3/4 overflow-hidden",
                      children: a.jsx("div", {
                        className:
                          "absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-bg-000/20 to-transparent animate-[shimmer_1.5s_infinite]",
                      }),
                    }),
                    a.jsx("div", {
                      className:
                        "relative h-3 bg-bg-400 rounded w-1/4 overflow-hidden",
                      children: a.jsx("div", {
                        className:
                          "absolute inset-0 -translate-x-full bg-gradient-to-r from-transparent via-bg-000/20 to-transparent animate-[shimmer_1.5s_infinite]",
                      }),
                    }),
                  ],
                })
              : l
                ? h
                  ? a.jsx("div", {
                      className: "text-text-300 font-small",
                      children: h,
                    })
                  : 0 === c.length
                    ? a.jsx("div", {
                        className: "text-text-500 font-base text-sm",
                        children: a.jsx(t, {
                          defaultMessage: "No chats yet",
                          id: "YfXudLEmrv",
                        }),
                      })
                    : a.jsx("div", {
                        className: "flex flex-col gap-1",
                        children: c.map((e) =>
                          a.jsxs(
                            "button",
                            {
                              onClick: () =>
                                (async (e) => {
                                  try {
                                    const [t] = await chrome.tabs.query({
                                      active: !0,
                                      currentWindow: !0,
                                    });
                                    await chrome.runtime.sendMessage({
                                      type: "open_side_panel",
                                      conversationUuid: e.uuid,
                                      tabId: t?.id,
                                    });
                                  } catch (t) {}
                                })(e),
                              className:
                                "group/item text-left px-2 py-2 rounded-lg hover:bg-bg-200 transition-colors cursor-pointer -ml-2 -mr-2",
                              children: [
                                a.jsx("div", {
                                  className:
                                    "text-text-100 group-hover/item:text-text-000 font-base text-sm line-clamp-2 mb-1",
                                  children:
                                    e.name ||
                                    n.formatMessage({
                                      defaultMessage: "Untitled",
                                      id: "3kbIhS7KZS",
                                    }),
                                }),
                                a.jsx("div", {
                                  className: "text-text-500 font-small",
                                  children: Ea(e.updated_at),
                                }),
                              ],
                            },
                            e.uuid,
                          ),
                        ),
                      })
                : a.jsx("div", {
                    className: "flex items-center justify-center h-full py-4",
                    children: a.jsx(x, {
                      onClick: () => chrome.runtime.openOptionsPage(),
                      variant: "secondary",
                      size: "sm",
                      children: a.jsx(t, {
                        defaultMessage: "Sign in",
                        id: "SQJto27U8S",
                      }),
                    }),
                  }),
        }),
      ],
    });
  }),
  Ra = {
    log: { name: "Activity", span: 2, description: "Recent conversations" },
    tasks: { name: "Shortcuts", span: 1, description: "Quick actions" },
    note: { name: "Note", span: 1, description: "Jot down ideas" },
    apps: { name: "Apps", span: 2, description: "Web applications" },
    learn: { name: "Learn", span: 1, description: "Tips and guides" },
    pastChats: {
      name: "Past chats",
      span: 1,
      description: "Recent conversations",
    },
  },
  Aa = { log: 2, tasks: 1, note: 1, apps: 2, learn: 1, pastChats: 1 },
  Ta = [
    {
      title: "Quick access to Claude",
      shortDescription:
        "Use keyboard shortcuts, pin Claude to your toolbar, or start conversations from your new tab page.",
      sections: [
        {
          intro:
            "Access Claude from anywhere in your browser to start conversations, get help with tasks, or interact with web pages.",
        },
        {
          heading: "1. Keyboard shortcuts",
          prose:
            "Press E (Mac) or Ctrl+E (Windows) to toggle the side panel. You can customize shortcuts in Chrome's extension settings (chrome://extensions/shortcuts).",
        },
        {
          heading: "2. Pin to toolbar",
          prose:
            "Click the puzzle piece icon in Chrome's toolbar, find Claude and click the pin icon to access Claude with one click from any page.",
        },
        {
          heading: "3. New tab page",
          prose:
            "Open a new tab to see Claude's new tab page where you can start conversations directly from the search box.",
        },
      ],
      image: null,
    },
    {
      title: "Permission modes",
      shortDescription:
        "Control how Claude interacts with your browser using different permission modes.",
      sections: [
        {
          intro:
            "Permission modes give you control over how much autonomy Claude has when working in your browser. Choose the mode that best fits your workflow and comfort level.",
        },
        {
          heading: "Ask before acting (default)",
          prose:
            "Claude asks before taking any action in your browser. You review and approve each step individually. This is best when you want full control and visibility, and is ideal for sensitive tasks or learning how Claude works.",
        },
        {
          heading: "Act before asking",
          prose:
            "Claude takes actions and shows you what it did. You can undo or redirect if needed. This provides a faster workflow with less interruption and offers a good balance between speed and oversight.",
        },
        {
          heading: "Follow a plan",
          prose:
            "Claude presents a complete plan before starting. You approve the entire plan upfront, and Claude executes all steps automatically once approved. This is great for complex multi-step tasks where you trust the approach.",
        },
        {
          heading: "How to change permission mode",
          prose:
            "You can change your permission mode anytime from the input box on the new tab page or in the side panel. Your preference is saved and will be used for future conversations.",
        },
      ],
      image: null,
    },
    {
      title: "Working with tab groups",
      shortDescription:
        "Claude works within tab groups to keep your work organized and private.",
      sections: [
        {
          intro:
            "When you open Claude in a tab group, it can only see and interact with tabs in that same group. You'll always know exactly what Claude has access totabs outside the group remain private and Claude can't see them.",
        },
        {
          heading: "What Claude can do:",
          items: [
            "See the URL, title, and content of all tabs in its group",
            "Create new tabs that automatically join the group",
            "Navigate and interact with tabs in the group",
          ],
        },
        {
          heading: "Visual indicators:",
          items: [" Actively working", " Task complete"],
        },
        {
          heading: "Important to note:",
          items: ["You can only have one active chat with Claude at a time"],
        },
      ],
      image: null,
    },
    {
      title: "Shortcuts and scheduling",
      shortDescription:
        "Create custom keyboard shortcuts for your saved prompts and schedule them to run automatically.",
      sections: [
        {
          intro:
            "Shortcuts let you save your favorite prompts and run them instantly with a slash command. You can also schedule prompts to run automatically at regular intervals.",
        },
        {
          heading: "What are shortcuts?",
          prose:
            "Shortcuts are saved prompts with custom slash commands (like /summarize or /research). They appear in your shortcuts widget on the new tab page, and you can type / in the input box to see all available shortcuts. You can create up to 12 shortcuts for quick access.",
        },
        {
          heading: "How to use shortcuts",
          prose:
            "To use a shortcut, type / followed by your command name (e.g., /summarize) in the input box. You can also add additional context after the command, like '/summarize this page in 3 bullet points'. The shortcut will expand to your full saved prompt.",
        },
        {
          heading: "How to save a shortcut",
          prose:
            "Click the shortcuts widget on your new tab page and click 'New shortcut' to create one from scratch. Give your shortcut a name (this becomes your slash command), write the prompt you want to save, and your shortcut will appear in the shortcuts list.",
        },
        {
          heading: "How to schedule prompts",
          prose:
            "Open the shortcuts modal from your new tab page and create a new shortcut or edit an existing one. Click the schedule option to set up automatic runs and choose how often to run (hourly, daily, weekly). Scheduled tasks will run automatically in the background.",
        },
      ],
      image: null,
    },
    {
      title: "Prompting tips",
      shortDescription:
        "Learn how to write effective prompts to get the best results from Claude.",
      sections: [
        {
          intro:
            "Good prompts help Claude understand exactly what you need. Here are some techniques to improve your results.",
        },
        {
          heading: "Be specific and clear",
          items: [
            "Provide context about what you're trying to accomplish",
            "Break complex tasks into smaller, clear steps",
            "Specify the format you want for the output",
          ],
        },
        {
          heading: "Use examples",
          items: [
            "Show Claude what good output looks like",
            "Provide sample inputs and desired outputs",
            "Reference similar tasks you've done before",
          ],
        },
        {
          heading: "Iterate and refine",
          items: [
            "Start with a basic prompt and improve based on results",
            "Ask Claude to revise its response if needed",
            "Build on successful prompts for similar tasks",
          ],
        },
      ],
      image: null,
    },
  ],
  La = r.memo(function ({
    id: t,
    children: n,
    row: r,
    col: s,
    colSpan: o,
    isEditMode: i,
    onDelete: l,
  }) {
    const c = e(),
      {
        attributes: d,
        listeners: u,
        setNodeRef: m,
        transform: h,
        transition: f,
        isDragging: g,
      } = la({ id: t, disabled: !i }),
      p = {
        ...{ gridRow: r + 1, gridColumn: `${s + 1} / span ${o}` },
        transform: ze.Transform.toString(h),
        transition: f,
      };
    return a.jsxs("div", {
      ref: m,
      style: p,
      className:
        "relative " +
        (i ? "cursor-move animate-[wiggle_0.35s_ease-in-out_infinite]" : ""),
      children: [
        g &&
          a.jsx("div", {
            className: "absolute inset-0 rounded-xl bg-text-100/10 z-20",
          }),
        i &&
          a.jsx("button", {
            onClick: (e) => {
              (e.stopPropagation(), l(t));
            },
            className:
              "absolute -top-2 -right-2 z-10 w-6 h-6 rounded-full bg-bg-000/70 backdrop-blur-sm border-[0.5px] border-border-200 hover:bg-bg-000/90 text-text-200 hover:text-text-100 flex items-center justify-center transition-all shadow-md",
            "aria-label": c.formatMessage(
              {
                defaultMessage: "Remove {widgetName} widget",
                id: "JQOIE896U3",
              },
              { widgetName: Ra[t]?.name || t },
            ),
            children: a.jsx(k, { size: 12 }),
          }),
        a.jsx("div", {
          ...d,
          ...u,
          className: "w-full h-full",
          style: { opacity: g ? 0 : 1 },
          children: n,
        }),
      ],
    });
  }),
  Oa = r.memo(function ({ row: t, col: n, onAdd: r }) {
    const s = e(),
      o = { gridRow: t + 1, gridColumn: `${n + 1} / span 1` };
    return a.jsx("button", {
      onClick: r,
      style: o,
      className:
        "w-full h-[160px] rounded-xl bg-bg-000/50 hover:bg-bg-000/70 transition-all flex items-center justify-center group",
      "aria-label": s.formatMessage({
        defaultMessage: "Add widget",
        id: "OQeBGoBcLP",
      }),
      children: a.jsx(re, {
        size: 32,
        weight: "regular",
        className:
          "text-text-100 opacity-40 group-hover:opacity-60 transition-opacity",
      }),
    });
  });
function Ia() {
  const n = e(),
    s = r.useRef(0);
  (s.current++, console.info("[DnD] NewTab render #", s.current));
  const o = r.useRef(!1),
    [i, l] = r.useState(""),
    [d, u] = r.useState(!1),
    [m, h] = r.useState(),
    [f, g] = r.useState(!1),
    [p, v] = r.useState(""),
    [b, y] = r.useState("ask"),
    [w, j] = r.useState("claude-sonnet-4"),
    [C, M] = r.useState(!1),
    [N, E] = r.useState(["log", "tasks", "pastChats", "note", "apps", "learn"]),
    [R, A] = r.useState(null),
    [T, L] = r.useState(4),
    [re, se] = r.useState(!1),
    [oe, ie] = r.useState([]),
    [ce, de] = r.useState(!1),
    [ue, me] = r.useState("my-shortcuts"),
    [fe, ge] = r.useState(""),
    [pe, xe] = r.useState(0),
    [ve, be] = r.useState(!1),
    [ye, we] = r.useState(null),
    [je, Ce] = r.useState(0),
    Me = r.useRef(null),
    Ne = r.useRef(null),
    ke = r.useRef(null),
    Se = r.useRef(!1),
    { analytics: Ee } = c(),
    De = O(),
    Re = Ta,
    Ae = (function () {
      for (var e = arguments.length, t = new Array(e), n = 0; n < e; n++)
        t[n] = arguments[n];
      return r.useMemo(() => [...t].filter((e) => null != e), [...t]);
    })(qe(Kt), qe(Ft, { coordinateGetter: ua })),
    Te = te("chrome_ext_model_selector", { default: "", options: [] }),
    { loadStickyModel: Le, setStickyModel: Oe } = I(),
    Ie = ne,
    _e = r.useMemo(() => Te?.options ?? [], [Te]),
    {
      attachments: ze,
      handleFiles: Pe,
      handleDrop: He,
      handlePaste: Be,
      removeAttachment: Ue,
      clearAttachments: Fe,
      isUploading: Ve,
      uploadingCount: Ze,
      addAttachment: We,
    } = _(),
    { captureSelection: Ye, isCapturing: Ke } = z({
      onCapture: (e) => {
        We(e);
      },
    }),
    Xe = r.useMemo(
      () => [
        De ? P : H,
        De
          ? "/assets/tabgrp-working-dark-BLKG_kBo.svg"
          : "/assets/tabgrp-working-BVbHlw3h.svg",
        De
          ? "/assets/tabgrp-done-dark-B3o0rXMr.svg"
          : "/assets/tabgrp-done-CtT5nf9m.svg",
      ],
      [De],
    );
  (r.useEffect(() => {
    const e = () => {
      L(window.innerWidth >= 768 ? 4 : 2);
    };
    return (
      e(),
      window.addEventListener("resize", e),
      () => window.removeEventListener("resize", e)
    );
  }, []),
    r.useEffect(() => {
      (async () => {
        const [e] = await chrome.tabs.query({ active: !0, currentWindow: !0 });
        e?.url && h(e.url);
      })();
    }, []),
    r.useEffect(() => {
      Me.current?.focus();
    }, []),
    r.useEffect(() => {
      (async () => {
        if (0 === _e.length) return;
        const e = await Le(_e);
        e ? j(e) : Te?.default && j(Te.default);
      })();
    }, [Le, _e, Te]),
    r.useEffect(() => {
      if (!ve || 2 !== ye) return;
      const e = setInterval(() => {
        Ce((e) => (e + 1) % 3);
      }, 1500);
      return () => clearInterval(e);
    }, [ve, ye]),
    r.useEffect(() => {
      let e = !0;
      return (
        (async () => {
          try {
            let t = await J(Q.LAST_PERMISSION_MODE_PREFERENCE);
            if (!e) return;
            ("ask" === t && (t = ae),
              void 0 !== t && Ie.includes(t) ? y(t) : y(ae),
              (Se.current = !0));
          } catch (t) {
            Se.current = !0;
          }
        })(),
        () => {
          e = !1;
        }
      );
    }, [Ie]),
    r.useEffect(() => {
      Se.current && ee(Q.LAST_PERMISSION_MODE_PREFERENCE, b);
    }, [b]));
  const $e = async () => {
    const e = await $.getAllPrompts(),
      t = e
        .filter((e) => e.command)
        .slice(0, 12)
        .map((e) => ({ command: e.command }));
    ie(t);
    const n = e.filter((e) => e.repeatType && "none" !== e.repeatType);
    xe(n.length);
  };
  (r.useEffect(() => {
    $e();
  }, []),
    r.useEffect(() => {
      (async () => {
        const e = await J(Q.NEW_TAB_NOTE);
        e && ge(e);
      })();
    }, []),
    r.useEffect(() => {
      ee(Q.NEW_TAB_NOTE, fe);
    }, [fe]),
    r.useEffect(() => {
      J(Q.WIDGET_ORDER).then((e) => {
        e && e.length > 0 && E(e);
      });
    }, []),
    r.useEffect(() => {
      ee(Q.WIDGET_ORDER, N);
    }, [N]));
  const Ge = r.useCallback((e) => {
      (console.info("[DnD] dragStart:", e.active.id),
        (o.current = !1),
        A(e.active.id));
    }, []),
    Je = r.useCallback((e) => {
      const { active: t, over: n } = e;
      if (!n || t.id === n.id) return;
      if (o.current) return;
      const a = n.id;
      (console.info("[DnD] dragOver - active:", t.id, "over:", a),
        (o.current = !0),
        setTimeout(() => {
          o.current = !1;
        }, 100),
        E((e) => {
          const n = e.indexOf(t.id),
            r = e.indexOf(a);
          if (-1 === n || -1 === r || n === r) return e;
          const s = $n(e, n, r);
          return (console.info("[DnD] dragOver - new order:", s), s);
        }));
    }, []),
    Qe = r.useCallback(() => {
      (console.info("[DnD] dragEnd"), (o.current = !1), A(null));
    }, []),
    et = r.useCallback((e) => {
      E((t) => t.filter((t) => t !== e));
    }, []),
    tt = r.useCallback((e) => {
      (E((t) => [...t, e]), se(!1));
    }, []),
    nt = r.useMemo(() => Object.keys(Ra).filter((e) => !N.includes(e)), [N]),
    at = r.useCallback(
      async (e) => {
        if ((e?.preventDefault(), (i.trim() || 0 !== ze.length) && !d)) {
          u(!0);
          try {
            let e = i.trim();
            if (e.startsWith("/")) {
              const t = e.slice(1).split(" ")[0],
                n = e.slice(1 + t.length).trim(),
                a = await $.getPromptByCommand(t);
              a
                ? (Ee?.track("claude_chrome.chat.system_command_executed", {
                    sessionId: "",
                    commandName: t,
                    commandType: "shortcut",
                  }),
                  (e = a.prompt),
                  n && (e = e + " " + n))
                : B(t) &&
                  Ee?.track("claude_chrome.chat.system_command_executed", {
                    sessionId: "",
                    commandName: t,
                    commandType: "system",
                  });
            }
            const t = e,
              n = ze
                .filter((e) => !e.error)
                .map((e) => {
                  let t = "image/jpeg";
                  return (
                    "image/png" === e.file.type
                      ? (t = "image/png")
                      : "image/gif" === e.file.type
                        ? (t = "image/gif")
                        : "image/webp" === e.file.type
                          ? (t = "image/webp")
                          : ("image/jpeg" !== e.file.type &&
                              "image/jpg" !== e.file.type) ||
                            (t = "image/jpeg"),
                    {
                      id: e.id,
                      base64: e.base64,
                      mediaType: t,
                      fileName: e.file.name,
                      isAnnotated: e.isAnnotated,
                    }
                  );
                }),
              [a] = await chrome.tabs.query({ active: !0, currentWindow: !0 });
            (await chrome.runtime.sendMessage({
              type: "open_side_panel",
              prompt: t,
              tabId: a?.id,
              permissionMode: b,
              selectedModel: w,
              attachments: n.length > 0 ? n : void 0,
            }),
              l(""),
              Fe());
          } catch (t) {
          } finally {
            u(!1);
          }
        }
      },
      [i, ze, d, Ee, b, w, Fe],
    ),
    rt = r.useCallback((e) => {
      (me(e), de(!0));
    }, []),
    ot = r.useCallback(() => {
      be(!0);
    }, []),
    it = r.useCallback(async () => {
      try {
        const e = G(),
          t = await q();
        if (!t) return;
        const n = new D({
            baseURL: e.apiBaseUrl,
            authToken: t,
            dangerouslyAllowBrowser: !0,
          }),
          a = async (e) => {
            const { modelClass: t, maxTokens: a, ...r } = e,
              s =
                "small_fast" === t
                  ? "claude-haiku-4-5-20251001"
                  : "claude-3-5-sonnet-20241022";
            return await n.beta.messages.create({
              ...r,
              model: s,
              max_tokens: a,
              betas: ["oauth-2025-04-20"],
            });
          },
          r = await U(a);
        if (r) {
          ge("");
          const e = new F();
          e.start((e) => {
            ge(e);
          });
          let t = 0;
          const n = () => {
            t < r.length
              ? (e.addText(r[t]), t++, setTimeout(n, 30))
              : e.complete();
          };
          n();
        }
      } catch (e) {}
    }, []),
    lt = r.useMemo(() => a.jsx(wa, {}), []),
    ct = r.useMemo(
      () =>
        a.jsx(ja, {
          userShortcuts: oe,
          scheduledTasksCount: pe,
          onShortcutsModalOpen: rt,
          analytics: Ee,
        }),
      [oe, pe, rt, Ee],
    ),
    dt = r.useMemo(
      () =>
        a.jsx(Ca, {
          noteRef: Ne,
          noteValue: fe,
          onNoteChange: ge,
          onGenerateQuote: it,
        }),
      [fe, it],
    ),
    ut = r.useMemo(() => a.jsx(ka, {}), []),
    mt = r.useMemo(
      () => a.jsx(Sa, { tipTitle: Re[2].title, onTipClick: ot }),
      [Re, ot],
    ),
    ht = r.useMemo(() => a.jsx(Da, {}), []),
    ft = r.useCallback(
      (e) => {
        switch (e) {
          case "log":
            return lt;
          case "tasks":
            return ct;
          case "note":
            return dt;
          case "apps":
            return ut;
          case "learn":
            return mt;
          case "pastChats":
            return ht;
          default:
            return null;
        }
      },
      [lt, ct, dt, ut, mt, ht],
    ),
    gt = r.useMemo(
      () => (
        console.info("[DnD] Computing gridPositions for widgetOrder:", N),
        ((e, t) => {
          const n = [];
          let a = 0,
            r = 0;
          for (const s of e) {
            const e = Aa[s] || 1;
            (r + e > t && (a++, (r = 0)),
              n.push({ id: s, row: a, col: r }),
              (r += e),
              r >= t && (a++, (r = 0)));
          }
          return n;
        })(N, T)
      ),
      [N, T],
    ),
    pt = r.useMemo(() => {
      if (0 === gt.length) return { row: 0, col: 0 };
      const e = gt[gt.length - 1],
        t = Aa[e.id] || 1;
      let n = e.col + t,
        a = e.row;
      return (n >= T && (a++, (n = 0)), { row: a, col: n });
    }, [gt, T]),
    xt = r.useCallback(() => {
      se(!0);
    }, []),
    vt = r.useMemo(() => {
      const e = gt.find((e) => "log" === e.id);
      return e
        ? a.jsx(
            La,
            {
              id: "log",
              row: e.row,
              col: e.col,
              colSpan: Aa.log,
              isEditMode: C,
              onDelete: et,
              children: lt,
            },
            "log",
          )
        : a.jsx("div", { style: { display: "none" } }, "log");
    }, [gt, lt, C, et]),
    bt = r.useMemo(() => {
      const e = gt.find((e) => "tasks" === e.id);
      return e
        ? a.jsx(
            La,
            {
              id: "tasks",
              row: e.row,
              col: e.col,
              colSpan: Aa.tasks,
              isEditMode: C,
              onDelete: et,
              children: ct,
            },
            "tasks",
          )
        : a.jsx("div", { style: { display: "none" } }, "tasks");
    }, [gt, ct, C, et]),
    yt = r.useMemo(() => {
      const e = gt.find((e) => "note" === e.id);
      return e
        ? a.jsx(
            La,
            {
              id: "note",
              row: e.row,
              col: e.col,
              colSpan: Aa.note,
              isEditMode: C,
              onDelete: et,
              children: dt,
            },
            "note",
          )
        : a.jsx("div", { style: { display: "none" } }, "note");
    }, [gt, dt, C, et]),
    wt = r.useMemo(() => {
      const e = gt.find((e) => "apps" === e.id);
      return e
        ? a.jsx(
            La,
            {
              id: "apps",
              row: e.row,
              col: e.col,
              colSpan: Aa.apps,
              isEditMode: C,
              onDelete: et,
              children: ut,
            },
            "apps",
          )
        : a.jsx("div", { style: { display: "none" } }, "apps");
    }, [gt, ut, C, et]),
    jt = r.useMemo(() => {
      const e = gt.find((e) => "learn" === e.id);
      return e
        ? a.jsx(
            La,
            {
              id: "learn",
              row: e.row,
              col: e.col,
              colSpan: Aa.learn,
              isEditMode: C,
              onDelete: et,
              children: mt,
            },
            "learn",
          )
        : a.jsx("div", { style: { display: "none" } }, "learn");
    }, [gt, mt, C, et]),
    Ct = r.useMemo(() => {
      const e = gt.find((e) => "pastChats" === e.id);
      return e
        ? a.jsx(
            La,
            {
              id: "pastChats",
              row: e.row,
              col: e.col,
              colSpan: Aa.pastChats,
              isEditMode: C,
              onDelete: et,
              children: ht,
            },
            "pastChats",
          )
        : a.jsx("div", { style: { display: "none" } }, "pastChats");
    }, [gt, ht, C, et]),
    Mt = r.useMemo(
      () => ({
        log: vt,
        tasks: bt,
        note: yt,
        apps: wt,
        learn: jt,
        pastChats: Ct,
      }),
      [vt, bt, yt, wt, jt, Ct],
    );
  return a.jsxs("div", {
    className:
      "relative flex min-h-screen w-full items-center justify-center py-24",
    "data-theme": "claude",
    children: [
      a.jsx(fa, {}),
      C &&
        a.jsx("div", {
          className:
            "absolute inset-0 bg-always-black/20 z-[5] pointer-events-none transition-opacity duration-300",
        }),
      a.jsx("div", {
        className: "fixed top-6 right-6 flex items-center gap-2 z-50",
        children: a.jsx("button", {
          onClick: () => M(!C),
          className: `h-8 rounded-full border-2 ${C ? "border-text-100 px-3" : "border-border-300 bg-bg-000/70 w-8"} backdrop-blur-sm hover:scale-105 transition-all flex items-center justify-center gap-1.5`,
          style: C ? { backgroundColor: "hsl(var(--text-100))" } : void 0,
          "aria-label": n.formatMessage({
            defaultMessage: "Toggle edit mode",
            id: "nl5phX6L/e",
          }),
          children: C
            ? a.jsxs(a.Fragment, {
                children: [
                  a.jsx(S, { size: 16, className: "text-bg-000" }),
                  a.jsx("span", {
                    className: "text-bg-000 font-small",
                    children: a.jsx(t, {
                      defaultMessage: "Save",
                      id: "jvo0vs3nF0",
                    }),
                  }),
                ],
              })
            : a.jsx(he, {
                size: 16,
                weight: "regular",
                className: "text-text-200",
              }),
        }),
      }),
      a.jsx("div", {
        className:
          "relative w-full px-4 sm:px-6 md:px-8 z-10 flex flex-col items-center",
        children: a.jsx("div", {
          className: "w-full max-w-[340px] sm:max-w-[340px] md:max-w-[700px]",
          children: a.jsxs("div", {
            className: "relative",
            children: [
              f &&
                a.jsx(ha, {
                  searchTerm: p,
                  systemCommands: V(n),
                  onSelect: (e) => {
                    (l(e.prompt), g(!1), v(""), Me.current?.focus());
                  },
                  onClose: () => {
                    (g(!1), v(""));
                  },
                  onExecuteSystemCommand: (e) => {
                    (l(e), g(!1), v(""), Me.current?.focus());
                  },
                }),
              a.jsx("form", {
                onSubmit: at,
                className: "relative",
                children: a.jsx("div", {
                  className:
                    "relative z-10 rounded-2xl border-[0.5px] border-border-200 bg-bg-000 shadow-sm transition-all hover:border-border-200 focus-within:border-border-200",
                  style: { boxShadow: "0 4px 20px 0 rgba(0, 0, 0, 0.04)" },
                  children: a.jsxs(Z, {
                    onDrop: He,
                    children: [
                      a.jsx("div", {
                        className: "px-4 pt-4 pb-2",
                        children: a.jsx("textarea", {
                          ref: Me,
                          value: i,
                          onChange: (e) => {
                            const t = e.target.value;
                            (l(t),
                              "/" === t ||
                              (t.startsWith("/") && !t.includes(" "))
                                ? (g(!0), v(t.substring(1)))
                                : (g(!1), v("")),
                              (e.target.style.height = "auto"),
                              (e.target.style.height = `${e.target.scrollHeight}px`));
                          },
                          onKeyDown: (e) => {
                            "Enter" !== e.key ||
                              e.shiftKey ||
                              f ||
                              (e.preventDefault(), at());
                          },
                          onPaste: Be,
                          placeholder: n.formatMessage({
                            defaultMessage:
                              "Put Claude to work in your browser...",
                            id: "3KYfO78h3Q",
                          }),
                          disabled: d,
                          className:
                            "hide-focus-ring w-full resize-none overflow-y-auto bg-transparent font-ui text-base text-text-100 placeholder-text-400 outline-none disabled:cursor-not-allowed disabled:opacity-50",
                          rows: 2,
                          style: {
                            minHeight: "48px",
                            maxHeight: "50vh",
                            height: "auto",
                          },
                        }),
                      }),
                      a.jsxs("div", {
                        className:
                          "flex items-center justify-between px-3 pt-2 pb-3",
                        children: [
                          a.jsx("div", {
                            className: "flex items-center gap-2",
                            children: a.jsx(W, {
                              permissionMode: b,
                              permissionModeOptions: Ie,
                              onChange: (e) => {
                                (y(e),
                                  Ee?.track(
                                    "claude_chrome.permission_mode.changed",
                                    { from: b, to: e, method: "manual" },
                                  ));
                              },
                            }),
                          }),
                          a.jsxs("div", {
                            className: "shrink-0 flex items-center gap-2",
                            children: [
                              a.jsx(Y, {
                                onScreenshot: () => Ye(),
                                onUpload: () => ke.current?.click(),
                                disabled: Ve || Ke || d,
                                currentUrl: m,
                                hideScreenshot: !0,
                              }),
                              a.jsx("button", {
                                type: "submit",
                                disabled:
                                  (!i.trim() && 0 === ze.length) ||
                                  d ||
                                  ze.some((e) => e.error),
                                className:
                                  "inline-flex items-center justify-center relative shrink-0 select-none disabled:pointer-events-none disabled:opacity-50 font-medium h-7 w-7 rounded-lg active:scale-95 text-oncolor-100 transition-colors bg-accent-main-000 hover:bg-accent-main-200",
                                "aria-label": n.formatMessage({
                                  defaultMessage: "Send message",
                                  id: "Xx0WZVz8QS",
                                }),
                                children: a.jsx("svg", {
                                  xmlns: "http://www.w3.org/2000/svg",
                                  width: "16",
                                  height: "16",
                                  fill: "currentColor",
                                  viewBox: "0 0 256 256",
                                  children: a.jsx("path", {
                                    d: "M208.49,120.49a12,12,0,0,1-17,0L140,69V216a12,12,0,0,1-24,0V69L64.49,120.49a12,12,0,0,1-17-17l72-72a12,12,0,0,1,17,0l72,72A12,12,0,0,1,208.49,120.49Z",
                                  }),
                                }),
                              }),
                            ],
                          }),
                        ],
                      }),
                      a.jsx("input", {
                        ref: ke,
                        type: "file",
                        multiple: !0,
                        accept: "image/*",
                        className: "hidden",
                        onChange: (e) => {
                          (e.target.files && Pe(e.target.files),
                            (e.target.value = ""));
                        },
                      }),
                      _e.length > 0 &&
                        a.jsx("div", {
                          className: "flex items-center gap-2 px-4 pb-3",
                          children: a.jsx("div", {
                            className: "flex items-center gap-2",
                            onClick: (e) => {
                              e.stopPropagation();
                            },
                            children:
                              _e.length > 0 &&
                              a.jsx(K, {
                                currentModel: w,
                                onChange: j,
                                modelConfig: {
                                  default: Te?.default || "claude-sonnet-4",
                                  options: _e,
                                },
                                onModelChange: async (e) => {
                                  (await Oe(e),
                                    Ee?.track("claude_chrome.model.changed", {
                                      model: e,
                                      method: "manual",
                                    }));
                                },
                              }),
                          }),
                        }),
                      a.jsx(X, {
                        attachments: ze,
                        onRemove: Ue,
                        isUploading: Ve,
                        uploadingCount: Ze,
                      }),
                    ],
                  }),
                }),
              }),
              0 === ze.length &&
                a.jsx("div", {
                  className: "mt-6",
                  children: a.jsxs(Ln, {
                    sensors: Ae,
                    collisionDetection: st,
                    onDragStart: Ge,
                    onDragOver: Je,
                    onDragEnd: Qe,
                    children: [
                      a.jsx(ta, {
                        items: N,
                        strategy: Jn,
                        children: a.jsxs("div", {
                          className:
                            "grid grid-cols-[repeat(2,160px)] sm:grid-cols-[repeat(2,160px)] md:grid-cols-[repeat(4,160px)] auto-rows-[160px] gap-3 sm:gap-4 md:gap-5 transition-all duration-300",
                          children: [
                            N.map((e) => Mt[e]),
                            C &&
                              nt.length > 0 &&
                              a.jsx(Oa, {
                                row: pt.row,
                                col: pt.col,
                                onAdd: xt,
                              }),
                          ],
                        }),
                      }),
                      a.jsx(Xn, {
                        children: R
                          ? a.jsx("div", {
                              className: "h-[160px] cursor-move shadow-lg",
                              style: {
                                width:
                                  "log" === R || "apps" === R
                                    ? 4 === T
                                      ? "calc(160px + 1.25rem + 160px)"
                                      : "calc(160px + 0.75rem + 160px)"
                                    : "160px",
                              },
                              children: ft(R),
                            })
                          : null,
                      }),
                    ],
                  }),
                }),
            ],
          }),
        }),
      }),
      a.jsx(pa, {
        isOpen: ce,
        onClose: () => {
          (de(!1), me("my-shortcuts"), $e());
        },
        initialTab: ue,
      }),
      ve &&
        a.jsx("div", {
          className:
            "fixed inset-0 z-50 flex items-center justify-center bg-always-black/50 backdrop-blur-sm animate-in fade-in duration-300",
          onClick: () => {
            (be(!1), we(null));
          },
          children: a.jsxs("div", {
            className:
              "relative w-full max-w-xl h-[70vh] bg-bg-100 rounded-2xl shadow-xl overflow-hidden",
            style: {
              animation:
                "modalZoom 300ms cubic-bezier(0.16, 1, 0.3, 1) forwards",
            },
            onClick: (e) => e.stopPropagation(),
            children: [
              a.jsxs("div", {
                className:
                  "flex items-center justify-between px-6 py-4 border-b border-[0.5px] border-border-300",
                children: [
                  null !== ye
                    ? a.jsx(x, {
                        onClick: () => we(null),
                        variant: "ghost",
                        size: "icon_sm",
                        "aria-label": n.formatMessage({
                          defaultMessage: "Back",
                          id: "cyR7KhiuaU",
                        }),
                        children: a.jsx(le, { size: 20 }),
                      })
                    : a.jsx("h2", {
                        className: "font-xl-bold text-text-100",
                        children: a.jsx(t, {
                          defaultMessage: "Learn",
                          id: "IbrSk1x1M4",
                        }),
                      }),
                  a.jsx(x, {
                    onClick: () => {
                      (be(!1), we(null));
                    },
                    variant: "ghost",
                    size: "icon_sm",
                    "aria-label": n.formatMessage({
                      defaultMessage: "Close",
                      id: "rbrahOGMC3",
                    }),
                    children: a.jsx(k, { size: 20 }),
                  }),
                ],
              }),
              a.jsx("div", {
                className: "overflow-y-auto max-h-[calc(70vh-80px)] px-6 pt-6",
                children:
                  null !== ye
                    ? a.jsxs("div", {
                        className: "flex flex-col h-full",
                        children: [
                          a.jsx("h3", {
                            className: "text-text-100 font-xl-bold mb-4",
                            children: Re[ye].title,
                          }),
                          a.jsxs("div", {
                            className: "space-y-4",
                            children: [
                              Re[ye].sections[0]?.intro &&
                                a.jsx("p", {
                                  className: "text-text-200 font-base",
                                  children: Re[ye].sections[0].intro,
                                }),
                              2 === ye &&
                                a.jsxs("div", {
                                  className:
                                    "rounded-xl bg-bg-000 border-[0.5px] border-border-300 pt-6 pb-4 px-6 relative min-h-[180px] flex items-center justify-center",
                                  children: [
                                    a.jsx(
                                      "img",
                                      {
                                        src: Xe[je],
                                        alt: "",
                                        className:
                                          "w-1/2 max-h-[150px] object-contain transition-opacity duration-500",
                                      },
                                      je,
                                    ),
                                    Re[ye].sections[2] &&
                                      "items" in Re[ye].sections[2] &&
                                      Re[ye].sections[2].items &&
                                      a.jsx("div", {
                                        className:
                                          "absolute bottom-4 right-4 bg-bg-200 rounded-lg px-2.5 py-1.5 flex flex-col gap-1",
                                        children: Re[ye].sections[2].items.map(
                                          (e, t) =>
                                            a.jsx(
                                              "div",
                                              {
                                                className:
                                                  "text-text-200 font-small",
                                                children: e,
                                              },
                                              t,
                                            ),
                                        ),
                                      }),
                                  ],
                                }),
                              0 === ye || 1 === ye || 3 === ye
                                ? a.jsx(a.Fragment, {
                                    children: Re[ye].sections
                                      .slice(1)
                                      .map((e, n) =>
                                        a.jsxs(
                                          "div",
                                          {
                                            children: [
                                              a.jsx("h4", {
                                                className:
                                                  "text-text-100 font-base-bold mb-2",
                                                children: e.heading,
                                              }),
                                              "prose" in e &&
                                                e.prose &&
                                                a.jsx("p", {
                                                  className:
                                                    "text-text-200 font-base mb-4",
                                                  children: e.prose,
                                                }),
                                              "items" in e &&
                                                e.items &&
                                                a.jsx("ul", {
                                                  className: "space-y-1.5 mb-4",
                                                  children: e.items.map(
                                                    (e, t) =>
                                                      a.jsxs(
                                                        "li",
                                                        {
                                                          className:
                                                            "text-text-200 font-base flex gap-2",
                                                          children: [
                                                            a.jsx("span", {
                                                              className:
                                                                "text-text-300",
                                                              "aria-hidden":
                                                                "true",
                                                              children: "",
                                                            }),
                                                            a.jsx("span", {
                                                              children: e,
                                                            }),
                                                          ],
                                                        },
                                                        t,
                                                      ),
                                                  ),
                                                }),
                                              a.jsx("div", {
                                                className:
                                                  "rounded-xl bg-bg-000 border-[0.5px] border-border-300 p-8 min-h-[200px] flex items-center justify-center",
                                                children: a.jsx("div", {
                                                  className:
                                                    "text-text-300 font-small",
                                                  children: a.jsx(t, {
                                                    defaultMessage:
                                                      "Illustration placeholder",
                                                    id: "U8e24+q4Zx",
                                                  }),
                                                }),
                                              }),
                                            ],
                                          },
                                          n + 1,
                                        ),
                                      ),
                                  })
                                : a.jsxs(a.Fragment, {
                                    children: [
                                      Re[ye].sections[1]?.heading &&
                                        a.jsxs(a.Fragment, {
                                          children: [
                                            a.jsx("h4", {
                                              className:
                                                "text-text-100 font-base-bold mb-2",
                                              children:
                                                Re[ye].sections[1].heading,
                                            }),
                                            Re[ye].sections[1] &&
                                              "items" in Re[ye].sections[1] &&
                                              Re[ye].sections[1].items &&
                                              a.jsx("ul", {
                                                className: "space-y-1.5",
                                                children: Re[
                                                  ye
                                                ].sections[1].items.map(
                                                  (e, t) =>
                                                    a.jsxs(
                                                      "li",
                                                      {
                                                        className:
                                                          "text-text-200 font-base flex gap-2",
                                                        children: [
                                                          a.jsx("span", {
                                                            className:
                                                              "text-text-300",
                                                            "aria-hidden":
                                                              "true",
                                                            children: "",
                                                          }),
                                                          a.jsx("span", {
                                                            children: e,
                                                          }),
                                                        ],
                                                      },
                                                      t,
                                                    ),
                                                ),
                                              }),
                                          ],
                                        }),
                                      Re[ye].sections[3]?.heading &&
                                        a.jsxs(a.Fragment, {
                                          children: [
                                            a.jsx("h4", {
                                              className:
                                                "text-text-100 font-base-bold mb-2",
                                              children:
                                                Re[ye].sections[3].heading,
                                            }),
                                            Re[ye].sections[3] &&
                                              "items" in Re[ye].sections[3] &&
                                              Re[ye].sections[3].items &&
                                              a.jsx("ul", {
                                                className: "space-y-1.5",
                                                children: Re[
                                                  ye
                                                ].sections[3].items.map(
                                                  (e, t) =>
                                                    a.jsxs(
                                                      "li",
                                                      {
                                                        className:
                                                          "text-text-200 font-base flex gap-2",
                                                        children: [
                                                          a.jsx("span", {
                                                            className:
                                                              "text-text-300",
                                                            "aria-hidden":
                                                              "true",
                                                            children: "",
                                                          }),
                                                          a.jsx("span", {
                                                            children: e,
                                                          }),
                                                        ],
                                                      },
                                                      t,
                                                    ),
                                                ),
                                              }),
                                          ],
                                        }),
                                      Re[ye].sections
                                        .slice(4)
                                        .map((e, t) =>
                                          a.jsx(
                                            "div",
                                            {
                                              children:
                                                e.heading &&
                                                a.jsxs(a.Fragment, {
                                                  children: [
                                                    a.jsx("h4", {
                                                      className:
                                                        "text-text-100 font-base-bold mb-2 mt-4",
                                                      children: e.heading,
                                                    }),
                                                    "items" in e &&
                                                      e.items &&
                                                      a.jsx("ul", {
                                                        className:
                                                          "space-y-1.5",
                                                        children: e.items.map(
                                                          (e, t) =>
                                                            a.jsxs(
                                                              "li",
                                                              {
                                                                className:
                                                                  "text-text-200 font-base flex gap-2",
                                                                children: [
                                                                  a.jsx(
                                                                    "span",
                                                                    {
                                                                      className:
                                                                        "text-text-300",
                                                                      "aria-hidden":
                                                                        "true",
                                                                      children:
                                                                        "",
                                                                    },
                                                                  ),
                                                                  a.jsx(
                                                                    "span",
                                                                    {
                                                                      children:
                                                                        e,
                                                                    },
                                                                  ),
                                                                ],
                                                              },
                                                              t,
                                                            ),
                                                        ),
                                                      }),
                                                  ],
                                                }),
                                            },
                                            t + 4,
                                          ),
                                        ),
                                    ],
                                  }),
                            ],
                          }),
                        ],
                      })
                    : a.jsx("div", {
                        className: "flex flex-col gap-6",
                        children: Re.map((e, t) =>
                          a.jsxs(
                            "button",
                            {
                              onClick: () => we(t),
                              className:
                                "flex gap-6 items-center hover:opacity-80 transition-opacity text-left cursor-pointer",
                              children: [
                                a.jsx("div", {
                                  className:
                                    "flex-shrink-0 w-[160px] h-[90px] bg-bg-000 border-[0.5px] border-border-300 rounded-xl flex items-center justify-center",
                                  children:
                                    2 === t &&
                                    a.jsx("img", {
                                      src: xa,
                                      alt: "",
                                      className: "w-3/4",
                                    }),
                                }),
                                a.jsxs("div", {
                                  className: "flex-1",
                                  children: [
                                    a.jsx("h3", {
                                      className:
                                        "text-text-100 font-large-bold mb-2",
                                      children: e.title,
                                    }),
                                    a.jsx("p", {
                                      className:
                                        "text-text-300 font-base line-clamp-2",
                                      children: e.shortDescription,
                                    }),
                                  ],
                                }),
                              ],
                            },
                            t,
                          ),
                        ),
                      }),
              }),
            ],
          }),
        }),
      re &&
        a.jsxs("div", {
          className:
            "fixed inset-0 z-50 flex flex-col items-center pt-24 md:pt-32 bg-always-black/50 backdrop-blur-sm animate-in fade-in duration-300",
          onClick: () => se(!1),
          children: [
            a.jsx("div", {
              className: "fixed top-6 right-6 z-10",
              children: a.jsx(x, {
                onClick: () => se(!1),
                variant: "ghost",
                size: "icon_sm",
                "aria-label": n.formatMessage({
                  defaultMessage: "Close",
                  id: "rbrahOGMC3",
                }),
                children: a.jsx(k, { size: 20 }),
              }),
            }),
            a.jsx("div", {
              className:
                "flex items-center justify-center w-full px-4 sm:px-6 md:px-8",
              onClick: (e) => e.stopPropagation(),
              children:
                nt.length > 0
                  ? a.jsx("div", {
                      className:
                        "grid grid-cols-[repeat(2,160px)] sm:grid-cols-[repeat(2,160px)] md:grid-cols-[repeat(4,160px)] auto-rows-[160px] gap-3 sm:gap-4 md:gap-5",
                      children: nt.map((e, t) => {
                        const n = Aa[e] || 1;
                        return a.jsx(
                          "div",
                          {
                            onClick: () => tt(e),
                            className:
                              (2 === n ? "col-span-2" : "") +
                              " h-full w-full hover:opacity-80 transition-opacity duration-200 cursor-pointer rounded-2xl overflow-hidden",
                            style: {
                              animation: `slideUpIn 0.4s ease-out ${0.1 * t}s backwards`,
                              background: "hsl(var(--bg-000))",
                            },
                            children: a.jsx("div", {
                              className: "pointer-events-none h-full w-full",
                              children: ft(e),
                            }),
                          },
                          e,
                        );
                      }),
                    })
                  : a.jsx("div", {
                      className: "text-center py-8",
                      children: a.jsx("p", {
                        className: "text-text-300 font-base",
                        children: a.jsx(t, {
                          defaultMessage: "All widgets are currently visible",
                          id: "9hU0zUNoF+",
                        }),
                      }),
                    }),
            }),
          ],
        }),
    ],
  });
}
n.createRoot(document.getElementById("root")).render(
  a.jsx(s.StrictMode, {
    children: a.jsx(E, { pageName: "New Tab", children: a.jsx(Ia, {}) }),
  }),
);
