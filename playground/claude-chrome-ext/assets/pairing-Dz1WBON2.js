import { R as e, I as r } from "./index-D6M7XaCF.js";
import { j as t, R as s } from "./index-BVS4T5_D.js";
import { P as i } from "./PairingPrompt-ChanX0Ez.js";
function n() {
  chrome.tabs.getCurrent((e) => {
    e?.id && chrome.tabs.remove(e.id);
  });
}
function m() {
  const e = new URLSearchParams(window.location.search),
    r = e.get("request_id") || "",
    s = e.get("client_type") || "desktop",
    m = e.get("current_name") || void 0;
  return t.jsx("div", {
    className: "flex items-center justify-center min-h-screen bg-bg-100 p-4",
    children: t.jsx("div", {
      className: "w-full max-w-md",
      children: t.jsx(i, {
        requestId: r,
        clientType: s,
        currentName: m,
        onConfirm: (e, r) => {
          (chrome.runtime.sendMessage({
            type: "pairing_confirmed",
            request_id: e,
            name: r,
          }),
            setTimeout(n, 100));
        },
        onDismiss: (e) => {
          (chrome.runtime.sendMessage({
            type: "pairing_dismissed",
            request_id: e,
          }),
            setTimeout(n, 100));
        },
      }),
    }),
  });
}
e.createRoot(document.getElementById("root")).render(
  t.jsx(s.StrictMode, { children: t.jsx(r, { children: t.jsx(m, {}) }) }),
);
